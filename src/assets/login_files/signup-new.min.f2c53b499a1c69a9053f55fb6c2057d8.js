function StringBuilder(_iv){var arr=_iv?[_iv]:[];this.append=function(v){return arr.push(v),this},this.toString=function(){return arr.join("")},this.isEmpty=function(){return this.length()<1},this.length=function(){return arr.length}}function getSubDomain(domain){for(var i=0,sdomain=domain,p=sdomain.split("."),s="_zagd"+(new Date).getTime();i<p.length-1&&-1==document.cookie.indexOf(s+"="+s);)sdomain=p.slice(-1-++i).join("."),document.cookie=s+"="+s+";domain="+sdomain+";";return document.cookie=s+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;domain="+sdomain+";",sdomain}function reloadCaptcha(idx,f,cdigest){if(f=f||idx,!f.captcha.disabled){var captchaCallback=function(cdigest){var $captcha=$(f).find(".za-captcha").attr("src",ZAConstants.getAbsoluteURL(ZAConstants.contextpath+"/captcha?cdigest="+cdigest));f.cdigest||$("<input type='hidden' name='cdigest' value='"+cdigest+"'>").insertAfter($captcha),f.cdigest.value=cdigest,f.captcha.value="",f.captcha.autocomplete="off"};if(cdigest)captchaCallback(cdigest);else{var options={url:ZAConstants.getAbsoluteURL(ZAConstants.contextpath+"/captcha"),type:"get",data:{action:"newcaptcha"},success:captchaCallback};window.CrossServiceRequest?CrossServiceRequest.send(options,!0):$.ajax(options)}}}function toggleField($container,show){show?$container.show().find(":input").removeAttr("disabled"):$container.hide().find(":input").attr("disabled","true")}function AjaxResponse(json){"string"==typeof json&&(json=$.parseJSON(json)),this.json=json,this.type=json[AjaxResponse.FIELDS.TYPE],this.error=json[AjaxResponse.FIELDS.ERROR],this.data=json[AjaxResponse.FIELDS.DATA]}function Form($form,options){var _this=this;if(_this.element=$form,_this.options=options=$.extend(!0,{},$.fn.form.defaults,options),_this._normalizeOptions(),_this.element.attr({action:options.url,method:options.method}),_this._initHints(),options.validator&&(this.validator=this.element.validate(options.validator)),options.passwordStrength){var pwdlen="";options.x_signup&&options.x_signup.minpwdlen&&(pwdlen=options.x_signup.minpwdlen),Form.PasswordStrength.init(options.passwordStrength,_this.element,pwdlen)}options.checkEmail&&Form.checkEmailDomain.init(options.checkEmail,_this.element,options.x_signup.domains,options.x_signup.isEmailCheck),_this.element.submit(function(event){return $(".form").attr("submitted")&&"true"===$(".form").attr("submitted")?("function"==typeof validateOTP?validateOTP():"",!1):void _this.submit(event)}),options.create&&options.create.call(this),$.fn.zPlaceHolder&&options.zplaceholder_fallback&&_this.element.find("input[placeholder]").zPlaceHolder()}function signupResponse(json,textStatus,jqXHR){var ar=new AjaxResponse(json);"undefined"==typeof _this&&(_this=this);var signupOptions=_this.options.x_signup;if(signupOptions&&!signupOptions.captcha_required&&toggleField($(".za-captcha-container"),!1),"throttles_limit_exceeded"===ar.json.cause&&($(".za-captcha-container").show(),changeHip(document.signupform),signupOptions.oncomplete&&signupOptions.oncomplete.call(_this,$.fn.zaSignUp.SIGNUP_STATE.ERROR,jqXHR)),json.errors&&json.errors[0]&&"IN107"===json.errors[0].code||json.errors&&json.errors[0]&&"IN108"===json.errors[0].code){Form.Message.error("captcha",json.localized_message?json.localized_message:json.message),$(".signupbtn span").removeClass("loadingtext"),$(".signupbtn").removeClass("changeloadbtn"),$(".za-captcha-container").show(),$(".za-captcha-container input").removeAttr("disabled");var $captcha=$(document.signupform).find(".za-captcha").attr("src",ZAConstants.getAccountsServer()+captchaPrefix+"/showcaptcha?digest="+json.data.cdigest);return document.signupform.cdigest||$("<input type='hidden' name='cdigest' value='"+json.data.cdigest+"'>").insertAfter($captcha),document.signupform.cdigest.value=json.data.cdigest,document.signupform.captcha.value="",document.signupform.captcha.autocomplete="off",signupOptions.oncomplete&&signupOptions.oncomplete.call(_this,$.fn.zaSignUp.SIGNUP_STATE.ERROR,jqXHR),!1}if(json.errors&&json.errors[0]&&"EMAIL105"==json.errors[0].code){var errorMsg=json.org_data&&json.org_data.error_msg;return Form.Message.error(json.errors[0].field,errorMsg),$(".signupbtn span").removeClass("loadingtext"),$(".signupbtn").removeClass("changeloadbtn"),changeHip(document.signupform),signupOptions.oncomplete&&signupOptions.oncomplete.call(_this,$.fn.zaSignUp.SIGNUP_STATE.ERROR,jqXHR),!1}if(json.errors&&json.errors[0]){"EMAIL507"===json.errors[0].code&&changeBlockedDomain(json.location);var errorField=json.errors[0].field;if("undefined"==typeof errorField){var f=_this.element.get(0).name,signupOptions=($(f),_this.options.x_signup);errorField=f}var errorMsg="SIGNUP105"===json.errors[0].code?I18N.get("IAM.REGISTER.ANTISPAM.ERROR"):json.localized_message?json.localized_message:json.message;return Form.Message.error(errorField,errorMsg),$(".signupbtn span").removeClass("loadingtext"),$(".signupbtn").removeClass("changeloadbtn"),changeHip(document.signupform),signupOptions.oncomplete&&signupOptions.oncomplete.call(_this,$.fn.zaSignUp.SIGNUP_STATE.ERROR,jqXHR),!1}if(ar.json.signup&&ar.json.signup.otptoken)return prevmobileCode=$("input[name='mobile']").val()?$("input[name='mobile']").val():$("input[name='rmobile']").val()?$("input[name='rmobile']").val():$("input[name='email']").val()?$("input[name='email']").val():$("input[name='emailormobile']").val()?$("input[name='emailormobile']").val():"",otpThreshold>=0&&Validator.isMobile(prevmobileCode)||Validator.isEmail(prevmobileCode)?otpInitiateResponse(ar,!0):signupOptions.oncomplete&&signupOptions.oncomplete.call(_this,$.fn.zaSignUp.SIGNUP_STATE.OTP_LIMIT_REACHED,jqXHR),!1;if("SIGNUP202"===ar.json.code)return otpInitiateResponse(ar),isOtpInitiated=!0,!1;if("SIGNUP201"===ar.json.code){if(signupOptions.oncomplete&&signupOptions.oncomplete.call(_this,$.fn.zaSignUp.SIGNUP_STATE.ACCOUNT_CREATED,jqXHR),customFieldData){var currentDetails=json.signupotpverify?json.signupotpverify:json.signup,isOtherDomain=currentDetails.isOtherDomain,url=currentDetails.redirecturl,params="";if(params+="data="+Util.euc(JSON.stringify(customFieldData)),isOtherDomain){var options={url:url,type:"post",data:{is_ajax:!0}};CrossServiceRequest.send(options,_this.options.usePostMessage);var ouri=url,stateParam="state=",allParams=ouri.slice(ouri.indexOf(stateParam)+stateParam.length);url=decodeURIComponent(allParams.slice(0,allParams.indexOf("&")))}return CrossServiceRequest.sendToAppWithHeader(signupOptions.service_name,"ufields",params,{complete:function(){signupOptions.oncomplete&&signupOptions.oncomplete.call(_this,$.fn.zaSignUp.SIGNUP_STATE.UPDATE_SERVICE_FIELDS,jqXHR),signupSucceed(_this,ar,signupOptions)}},_this.options.usePostMessage,currentDetails.CustomDataToken)}signupSucceed(_this,ar,signupOptions)}}function signupSucceed(signup,ar,signup_options){var defaultOptions=$.fn.zaSignUp.defaults,doActionCalled=!1;signup_options.oncomplete&&signup_options.oncomplete.call($.fn.zaSignUp,$.fn.zaSignUp.SIGNUP_STATE.SIGNUP_COMPLETED);var fsname=$("input[name='firstname']").val(),emailfield=$("input[name='email']").val();emailfield=$("input[name='emailormobile']").val()?$("input[name='emailormobile']").val():emailfield;var signupdetails=ar.json.signupotpverify?ar.json.signupotpverify:ar.json.signup;signup.options.handleSignuptracking.call($.fn.zaSignUp,{email:emailfield,zuid:signupdetails.zuid,zaid:signupdetails.zaid,name:fsname,servicename:defaultOptions.x_signup.service_name,ott:signupdetails.ott,operation:"SIGN_UP"});var showConfirmation=1==signupdetails.showconfirmpage,showunapprovedpage=1==signupdetails.show_unapproved_page;return showunapprovedpage?(signup.options.handleAdminAccess.call(defaultOptions,{show_unapprovedPage:showunapprovedpage,orgName:signupdetails.unapproved_tpl_data.org_name,ownerMail:signupdetails.unapproved_tpl_data.owner_email,doAction:function(){doActionCalled||(doActionCalled=!0)}}),!1):emailfield?void signup.options.handleConfirmation.call(defaultOptions,{email:emailfield,serviceredirecturl:signupdetails.redirecturl,show_confirmation:showConfirmation,doAction:function(){doActionCalled||(doActionCalled=!0,window.location.href=signupdetails.redirecturl)}}):void(window.location.href=signupdetails.redirecturl)}function customFieldAudit(field,error){$.post(ZAConstants.getAbsoluteURL("/accounts/regaudit/customfield"),{field:field,error:error})}function showPassword(t,isMobile){var passwordEle=$(".form .za-password-container input")[0];"password"==passwordEle.type?(isMobile?$(t).removeClass("showpassword").addClass("hidepassword"):$(t).html(I18N.get("IAM.PASSWORD.HIDE")),passwordEle.type="text",passwordEle._zhide_timeout_=setTimeout(function(){showPassword(t)},5e3)):(clearTimeout(passwordEle._zhide_timeout_),isMobile?$(t).removeClass("hidepassword").addClass("showpassword"):$(t).html(I18N.get("IAM.PASSWORD.SHOW")),passwordEle.type="password")}function validateGApp(e){var val=this.domain.value;(!val||val.length<1)&&(Util.stopEvents(e),Form.Message.error(this.name,I18N.get("IAM.ERROR.IDP.VALID.DOMAIN")))}function changeBlockedDomain(dc){dc=dc.toLowerCase();var selectedDC=$(".selectedDomain").text(),islocal="localzoho"==window.location.hostname.split(".")[1];return dc="au"==dc?"com.au":"us"==dc?"com":dc,changeRegisterUrl(dc,islocal,"",selectedDC),$(".signupbtn").attr("disabled",!0),!1}function iamMovetoSignUp(){return $('form[name="signupform"]').submit(),!1}function togglePasswordField(){var password=$("#password"),type="",showpasswordicon=$("#show-password-icon");showpasswordicon.hasClass("icon-hide")?(type="text",showpasswordicon.removeClass("icon-hide").addClass("icon-show"),$("#show-password-label").text(I18N.get("IAM.PASSWORD.HIDE"))):(type="password",showpasswordicon.removeClass("icon-show").addClass("icon-hide"),$("#show-password-label").text(I18N.get("IAM.PASSWORD.SHOW")));var input=$("<input>").val(password.val()).attr({id:"password",tabindex:"1",autocomplete:"off",type:type,placeholder:I18N.get("IAM.PASSWORD"),"class":password.attr("class"),name:"password",spellcheck:"false",onkeyup:"checkPasswordStrength()",onblur:"$('.pwderror').hide()"});password.before(input),selectTextEnd(input[0],input.val().length),password.remove(),input.focus()}function toggleNewsletterField(){var showpasswordicon=$("#signup-newsletter");showpasswordicon.hasClass("unchecked")?(showpasswordicon.removeClass("unchecked").addClass("checked"),$("#newsletter").prop("checked",!0)):(showpasswordicon.removeClass("checked").addClass("unchecked"),$("#newsletter").prop("checked",!1))}function toggleTosField(){var showpasswordicon=$("#signup-termservice");showpasswordicon.hasClass("unchecked")?(showpasswordicon.removeClass("unchecked").addClass("checked"),$("#tos").prop("checked",!0)):(showpasswordicon.removeClass("checked").addClass("unchecked"),$("#tos").prop("checked",!1))}function toggleOrgCheckField(){var orgCheckField=$("#signup-orguser");orgCheckField.hasClass("unchecked")?(orgCheckField.removeClass("unchecked").addClass("checked"),$("#orguser").prop("checked",!0),Form.Message.hideError($("#emailfield"))):(orgCheckField.removeClass("checked").addClass("unchecked"),$("#orguser").prop("checked",!1))}function selectTextEnd(input,inputLen){if(input.setSelectionRange)input.setSelectionRange(inputLen,inputLen);else if(input.createTextRange){var range=input.createTextRange();range.collapse(!0),range.moveStart("character",inputLen),range.moveEnd("character",inputLen),range.select()}}function checkPasswordStrength(){$("#password-error").remove(),$(".za-password-container dd").removeClass("field-error");var f=document.forms.signupform,value=f&&f.password&&f.password.value.trim();if("undefined"==typeof value)return!1;var msg=null,passInfoCode=null;if("undefined"!=typeof PasswordPolicyInfo)for(var i=0;i<PasswordPolicyInfo.length;i++){var passInfo=PasswordPolicyInfo[i];if(passInfoCode=passInfo.ErrorCode,"PP101"===passInfoCode&&value.length<passInfo.minLength){msg=passInfo.message;break}if("PP104"===passInfoCode){var id=f.email&&f.email.value.trim().toLocaleLowerCase(),emid=f.emailormobile&&f.emailormobile.value.trim().toLocaleLowerCase();id=id?id:f.mobile&&f.mobile.value.trim().toLocaleLowerCase();var passVal=value.toLocaleLowerCase();if(id&&(-1!==id.indexOf(passVal)||-1!==passVal.indexOf(id))){msg=passInfo.message;break}if(emid&&(-1!==emid.indexOf(passVal)||-1!==passVal.indexOf(emid))){msg=passInfo.message;break}}else{if("PP106"===passInfoCode&&value.length>passInfo.maxLength){msg=passInfo.message;break}if("PP107"===passInfoCode&&passInfo.minSplChar>=1&&value.length<=passInfo.ignoreLength&&!Validator.isSpecialCharecterContains(value)){msg=passInfo.message;break}if("PP108"===passInfoCode&&passInfo.minNUmChar>=1&&value.length<=passInfo.ignoreLength&&!Validator.isNumberContains(value)){msg=passInfo.message;break}if("PP109"===passInfoCode&&passInfo.isEnabled===!0&&value.length<=passInfo.ignoreLength&&!Validator.isMixedCase(value)){msg=passInfo.message;break}}}if(null!=msg){if("PP104"!==passInfoCode&&"undefined"!=typeof PasswordPolicyInfo)for(var i=0;i<PasswordPolicyInfo.length;i++){var passInfo=PasswordPolicyInfo[i];if("PP100"==passInfo.ErrorCode){msg=passInfo.message;break}}$(".pwderror").text(msg),$(".pwderror").show()}else $(".pwderror").text("")}function hideMsg(t){Form.Message.hideError(t),$(".za-email-suggestion").is(":visible")&&$(".za-email-suggestion").remove()}function hideLenError(t,n){Form.Message.hideError(t);var p_word=$("#password").val(),len=p_word.length;len>=1&&n>len&&($("#errormg").removeClass("pwderror"),$("#errormg").addClass("dummyerror"),Form.Message.create($(t),"error","").addClass("jqval-error"),$("#password").addClass("temperror"))}function showPwdMsg(){$("#errormg").removeClass("dummyerror"),$("#errormg").addClass("pwderror"),$(".captchaCnt").css("marginTop","0"),$("#password").removeClass("temperror"),$("#errormg").is(":visible")||($("#errormg").slideDown(100),$(".za-newsletter-container label").css("marginTop","2px"))}function loadCountries(countryCodeDetails){var select=$(".za-country-container select[name=country]").toArray(),selectboxes=$(".za-country_code-container select[name=country_code]").length>0?select.concat($(".za-country_code-container select[name=country_code]").toArray()):select,option="",isdoption="";if(selectboxes.length>0&&countryCodeDetails&&countryCodeDetails.length>0){for(var countryCodeIdx in countryCodeDetails){var countryCodeDetail=countryCodeDetails[countryCodeIdx];option+='<option value="'+countryCodeDetail.ISO2_CODE+'" newsletter_mode="'+countryCodeDetail.NEWSLETTER_MODE+'">'+countryCodeDetail.DISPLAY_NAME+"</option>",isdoption+='<option value="'+countryCodeDetail.ISO2_CODE+'" data_number="+'+countryCodeDetail.DIALING_CODE+'">'+countryCodeDetail.DISPLAY_NAME+" (+"+countryCodeDetail.DIALING_CODE+")</option>"}for(var index in selectboxes)selectboxes[index].innerHTML="country"===selectboxes[index].name?option:isdoption}if($(".za-country_code-container select[name=country_code]").length>0&&ZADefaultCountry&&$(".za-country_code-container select[name=country_code] option[value="+ZADefaultCountry+"]").length>0){$(".za-country_code-container select[name=country_code]").val(ZADefaultCountry);var cnCode=$("#country-code option:selected").attr("data_number");$(".ccdiv,.ccdiv1").text(cnCode)}$(".za-country-container select[name=country]").length>0?(select=$(".za-country-container select[name=country]")[0],select.onchange=function(){handleNewsletterField(this),toggleCountryStates(this),"undefined"!=typeof isDataCenterChangeNeeded&&1==isDataCenterChangeNeeded&&changeDomainName(this.value)},$(".za-country-container").show(),$(".za-newsletter-container #newsletter")&&$(".za-newsletter-container #newsletter").val("true"),ZADefaultCountry&&$(".za-country-container select[name=country] option[value="+ZADefaultCountry+"]").length>0&&$(".za-country-container select[name=country]").val(ZADefaultCountry),handleNewsletterField(select),toggleCountryStates(select)):($("#newsletter").prop("checked",!1),$(".za-newsletter-container").css("display","none"),$(".za-country-container").css("display","none"))}function toggleCountryStates(selectCountryElement){var select=$(".za-country_state-container select[name=country_state]");if(select.length>0&&ZACountryStateDetails&&ZACountryStateDetails.length>0){var countryOptionEle=selectCountryElement.options[selectCountryElement.selectedIndex],countryCode=countryOptionEle.value,countryStates=ZACountryStateDetails[0],disabledOption="<option value="+I18N.get("IAM.US.STATE.SELECT")+" disabled selected>"+I18N.get("IAM.US.STATE.SELECT")+"</option>",stateOptios=countryStates[countryCode.toLowerCase()];void 0!=stateOptios?(select[0].innerHTML=disabledOption+stateOptios,$(".za-country_state-container").css("display",""),countryCode==ZADefaultCountry&&window.ZADefaultState?$(".za-country_state-container select[name=country_state]").val(ZADefaultState):""):(select[0].innerHTML="",$(".za-country_state-container").css("display","none"))}}function handleNewsletterField(selectElement){if(selectElement){var optionEle=selectElement.options[selectElement.selectedIndex],newsletter_mode=(optionEle.value,optionEle.getAttribute("newsletter_mode")),newsletterEle=$("#signup-newsletter");newsletter_mode==NewsLetterSubscriptionMode.SHOW_FIELD_WITH_CHECKED?(newsletterEle.removeClass("unchecked").addClass("checked"),$("#newsletter").prop("checked",!0),$(".za-newsletter-container").css("display","")):newsletter_mode==NewsLetterSubscriptionMode.SHOW_FIELD_WITHOUT_CHECKED||newsletter_mode==NewsLetterSubscriptionMode.DOUBLE_OPT_IN?(newsletterEle.removeClass("checked").addClass("unchecked"),$("#newsletter").prop("checked",!1),$(".za-newsletter-container").css("display","")):(newsletterEle.removeClass("checked").addClass("unchecked"),$("#newsletter").prop("checked",!1),$(".za-newsletter-container").css("display","none"))}}function setCookie(name,value){var host=document.location.host;host=host.substring(host.indexOf("."));var cookieStr=name+"="+value+";Path=/;";cookieStr+="domain="+host,document.cookie=cookieStr}function isEu(options){var date=new Date;if(date.getTimezoneOffset()<=0&&date.getTimezoneOffset()>=-180){var euTZ=["(CEST)","(WEST)","(WET)","(EET)","(WEST)","(EEST)","(CET)"],thisTZ=date.toString().toUpperCase();for(var i in euTZ)if(thisTZ.indexOf(euTZ[i])>-1)return!0}return options.x_signup.isEU||!1}function checkmblbox(id){var check=de(id);check.checked?($("#checkbx").removeClass("checkedBox"),$("#checkbx").addClass("uncheckBox")):($("#checkbx").removeClass("uncheckBox"),$("#checkbx").addClass("checkedBox"))}function presignupTracker(){var email=$("input[name='email']").val(),zuid="",name=$("input[name='firstname']").val(),servicename=$.fn.zaSignUp.defaults.x_signup.service_name,clientportal=$.fn.zaSignUp.defaults.x_signup.client_portal,operation="PRE_SIGN_UP";try{$zoho.livedesk.visitor.customaction('{"op":"'+operation+'","e":"'+email+'","sn":"'+servicename+'","cp":'+clientportal+',"n":"'+name+'","zuid":"'+zuid+'"}')}catch(exp){}}function validateOTP(){var otpfield=$("#otpfield").val();$(".signupbtn").attr("disabled","true");var validator=this,formOptions=$(validator.currentForm).zaSignUp("options");if($(".signupbtn span").addClass("loadingtext"),$(".signupbtn").addClass("changeloadbtn"),""===otpfield||!Validator.isValidOTP(otpfield))return $(".signupbtn").removeAttr("disabled"),Form.Message.error("otp",I18N.get("IAM.ERROR.VALID.OTP")),$(".za-otp-container .error").show(),$(".signupbtn span").removeClass("loadingtext"),$(".signupbtn").removeClass("changeloadbtn"),_this.options.x_signup.oncomplete&&_this.options.x_signup.oncomplete.call(this,$.fn.zaSignUp.SIGNUP_STATE.OTP_ERROR),!1;var params=$('form[name="signupform"]').zaSerialize(),updatedOptions=checkAndUpdateServiceUrl($.fn.zaSignUp.defaults),validateParams=$.fn.zaSignUp.defaults.x_signup.params;validateParams&&validateParams.mode&&(params+="&mode="+validateParams.mode),updatedOptions&&updatedOptions.serviceurl&&(params+="&serviceurl="+Util.euc(updatedOptions.serviceurl)),validateParams&&validateParams.servicename&&(params+="&servicename="+validateParams.servicename),validateParams&&validateParams.orgtype&&(params+="&orgtype="+validateParams.orgtype),"undefined"!=typeof signup_defaultmode&&(removeParam("mode",params),params+="&mode="+signup_defaultmode);var queryparams=params.slice(0).split("&"),result={};queryparams.forEach(function(pair){pair=pair.split("="),pair[0]&&!pair[0].startsWith("c_")&&(result[decodeURIComponent(pair[0])]=decodeURIComponent(pair[1]||"").trim())}),"undefined"!=typeof countrycode&&countrycode&&(result.country_code=countrycode);var signupParams=JSON.parse(JSON.stringify(result)),jsonData={signupotpverify:signupParams},validateoptions={url:ZAConstants.getIAMUrl(uriPrefix+"/webclient/v1/register/otp/verify"),type:"POST",dataType:"json",data:JSON.stringify(jsonData),headers:{"Z-Authorization":temp_token},contentType:"application/json",success:function(data){return data.errors?(Form.Message.error("otp",data.localized_message),$(".signupbtn").removeAttr("disabled"),$(".za-otp-container .error").show(),$(".signupbtn span").removeClass("loadingtext"),$(".signupbtn").removeClass("changeloadbtn"),_this.options.x_signup.oncomplete&&_this.options.x_signup.oncomplete.call(this,$.fn.zaSignUp.SIGNUP_STATE.OTP_ERROR),!1):(signupResponse(data),!1)},error:function(data){if(data.responseJSON){var ar=new AjaxResponse(data.responseJSON);if(ar.json&&ar.json.localized_message)return Form.Message.error("otp",ar.json.localized_message),$(".signupbtn").removeAttr("disabled"),$(".za-otp-container .error").show(),$(".signupbtn span").removeClass("loadingtext"),$(".signupbtn").removeClass("changeloadbtn"),_this.options.x_signup.oncomplete&&_this.options.x_signup.oncomplete.call(this,$.fn.zaSignUp.SIGNUP_STATE.OTP_ERROR),!1}return!1}};return CrossServiceRequest.send(validateoptions,formOptions.usePostMessage),$(".signupbtn span").removeClass("loadingtext"),$(".signupbtn").removeClass("changeloadbtn"),!1}function mobileOtpEnable(){return otpThreshold--,$(".resendotp").html(I18N.get("IAM.SIGNIN.OTP.THRESHOLD.MFA.LIMIT",otpThreshold)+I18N.get("IAM.TFA.RESEND.OTP.COUNTDOWN")),0==otpThreshold?($(".resendotp").html(I18N.get("IAM.SIGNIN.OTP.MAX.COUNT.MFA.LIMIT.ENDS")),!1):void 0}function resendOTP(){$(".blur, .loader").is(":visible")&&$(".blur, .loader").hide(),otpThreshold>=0&&mobileOtpEnable();var validator=this,formOptions=$(validator.currentForm).zaSignUp("options");$(".signupbtn").removeAttr("disabled"),$(".signupbtn span").addClass("loadingtext"),$(".signupbtn").addClass("changeloadbtn");var validateoptions={url:ZAConstants.getIAMUrl(uriPrefix+"/webclient/v1/register/otp/resend"),type:"POST",headers:{"Z-Authorization":temp_token},success:function(data){showResendMessage(data)},error:function(data){var response=data.responseText;return response=JSON.parse(response),response.localized_message?(Form.Message.error("otp",response.localized_message),"throttles_limit_exceeded"===response.cause&&$(".resendotp ").hide(),$(".signupbtn span").removeClass("loadingtext"),void $(".signupbtn").removeClass("changeloadbtn")):void 0}};CrossServiceRequest.send(validateoptions,formOptions.usePostMessage),$(".signupbtn span").removeClass("loadingtext"),$(".signupbtn").removeClass("changeloadbtn")}function resendotp_checking(){var resendtiming=60;clearInterval(resendTimer),$(".resendotp").addClass("nonclickelem"),$(".resendotp span").text(resendtiming),3==otpThreshold&&$(".resendotp").html(I18N.get("IAM.TFA.RESEND.OTP.COUNTDOWN")),resendTimer=setInterval(function(){resendtiming--,$(".resendotp span").text(resendtiming),0===resendtiming&&(clearInterval(resendTimer),2>=otpThreshold&&otpThreshold>0?($(".resendotp").html(I18N.get("IAM.SIGNIN.OTP.THRESHOLD.MFA.LIMIT",otpThreshold)+I18N.get("IAM.NEW.SIGNIN.RESEND.OTP")),$(".resendotp").removeClass("nonclickelem")):0>=otpThreshold?$(".resendotp").html(I18N.get("IAM.SIGNIN.OTP.MAX.COUNT.MFA.LIMIT.ENDS")):($(".resendotp").html(I18N.get("IAM.NEW.SIGNIN.RESEND.OTP")),$(".resendotp").removeClass("nonclickelem")))},1e3)}function showResendMessage(ar){return("SIGNUP202"===ar.code||"SIGNUP201"===ar.code)&&(resendotp_checking(),$(".alert_message").text(I18N.get("IAM.SIGNIN.SUCCESS.OTP.SENT")),$(".Alert").css("top","20px"),window.setTimeout(function(){$(".Alert").css("top","-100px")},5e3)),$(".signupbtn span").removeClass("loadingtext"),$(".signupbtn").removeClass("changeloadbtn"),!1}function otpInitiateResponse(ar){if(ar.json){if(ar.json.signupotpverify)return void(window.location.href=ar.json.signupotpverify.redirecturl);formvalidated=!1,temp_token=ar.json.signup.otptoken,Form.Message.error("otp",""),$(".signupbtn").removeAttr("disabled"),$("#otpfield").val(""),$(".signupcontainer,.signuptitle,.fed_2show,.fed_2show_small").hide(),$(".signupotpcontainer").show(),$("#otpfield").removeAttr("disabled"),$(".za-otp-container").show(),$("input[name='otp']").focus();var emailvalue=$("input[name='email']").val()?$("input[name='email']").val():$("input[name='emailormobile']").val();emailvalue=$("input[name='rmobile']").val()?$("input[name='rmobile']").val():emailvalue,Validator.isEmail(emailvalue)&&($(".verifyheader").text(I18N.get("IAM.NEW.SIGNUP.EMAIL.VERIFY.DESC")),isEmailOtpInitited=!0),prevmobileCode=$("input[name='mobile']").val()?$("input[name='mobile']").val():$("input[name='rmobile']").val()?$("input[name='rmobile']").val():$("input[name='email']").val()?$("input[name='email']").val():$("input[name='emailormobile']").val()?$("input[name='emailormobile']").val():"";var mobileCode=$("input[name='mobile']").val()?$("#select2-country-code-container").html()+" "+$("input[name='mobile']").val():$("input[name='rmobile']").val()?$("#select2-country-coderecovery-container").html()+" "+$("input[name='rmobile']").val():$("input[name='email']").val()?$("input[name='email']").val():$("input[name='emailormobile']").val()&&isNumberOnly($("input[name='emailormobile']").val())?$("#select2-country-emailormobile-container").html()+" "+$("input[name='emailormobile']").val():$("input[name='emailormobile']").val();mobileCode=mobileCode.includes("undefined")||void 0==mobileCode?prevmobileCode:mobileCode,$("#mobileotp").text(mobileCode),$(".signupbtn span").removeClass("loadingtext"),$(".signupbtn").removeClass("changeloadbtn"),$('form[name="signupform"]').attr("action",ZAConstants.getIAMUrl("accounts/webclient/v1/register/field/validate")),resendotp_checking(),$(".alert_message").text(I18N.get("IAM.SIGNIN.SUCCESS.OTP.SENT")),$(".Alert").css("top","20px"),window.setTimeout(function(){$(".Alert").css("top","-100px")},5e3),_this.options.x_signup.oncomplete&&_this.options.x_signup.oncomplete.call(this,$.fn.zaSignUp.SIGNUP_STATE.OTP_INITIATED),$('form[name = "signupform"]').attr("submitted","true"),autoReadSMS()}}function autoReadSMS(){function main(){if("OTPCredential"in window)try{if(navigator.credentials)try{navigator.credentials.get({abort:signal,otp:{transport:["sms"]}},function(content){content&&content.code&&(otpInput.value=content.code,validateOTP())})}catch(e){return}}catch(err){return}}if(!autoReadSMSEnabled)return!1;var otpInput=document.querySelector('input[autocomplete="one-time-code"]'),signal=new AbortController;setTimeout(function(){signal.abort()},6e4),main()}function isNumberOnly(element){var NumberRegex=/^[0-9]+$/;return NumberRegex.test(element)?!0:!1}function gobacktosignup(){otpThreshold=3,"undefined"!=typeof forcesignup&&forcesignup&&$("#firstname, #lastname").hide(),$(".signupbtn").removeAttr("disabled"),$("#otpfield").val(""),$(".signupcontainer,.signuptitle").show(),$(".signupotpcontainer").hide(),$("input[name='rmobile']").is(":visible")&&$("input[name='rmobile']").focus(),$("input[name='mobile']").is(":visible")&&$("input[name='mobile']").focus(),loginIdChanged=!0,clearInterval(resendTimer),changeHip(document.signupform),"function"==typeof fedtoShow?fedCheck():"",$(".resendotp").html(I18N.get("IAM.NEW.SIGNIN.RESEND.OTP")),$(".resendotp").removeClass("nonclickelem"),$('form[name = "signupform"]').attr("submitted","false"),$(".verifyheader").text(I18N.get("IAM.NEW.SIGNUP.MOBILE.VERIFY.DESC")),_this.options.x_signup.oncomplete&&_this.options.x_signup.oncomplete.call(this,$.fn.zaSignUp.SIGNUP_STATE.BACKTO_SIGNUP),$('form[name = "signupform"]').removeAttr("submitted")}function checkAndUpdateServiceUrl(signupOptions){try{var redirectSignUpParams=signupOptions.getRedirectSignUpParams.call();if(redirectSignUpParams&&null!==redirectSignUpParams){"string"==typeof redirectSignUpParams&&(redirectSignUpParams=redirectSignUpParams.split(","));var serviceurl=signupOptions.x_signup.params.serviceurl;void 0===_za_serviceurl&&(_za_serviceurl=signupOptions.x_signup.params.serviceurl);var serviceurl=_za_serviceurl;if(Array.isArray(redirectSignUpParams)&&serviceurl&&""!==serviceurl){var tmpSignUpFieldParams="";for(var redirectSignUpParamsIdx in redirectSignUpParams){var signupFormParamName=redirectSignUpParams[redirectSignUpParamsIdx];if(signupFormParamName&&"x_"==signupFormParamName.slice(0,2)){var signupFormParamValue=$("input[name='"+signupFormParamName+"']").val();signupFormParamValue&&(tmpSignUpFieldParams+="&za_"+signupFormParamName+"="+encodeURIComponent(signupFormParamValue))}}""!==tmpSignUpFieldParams&&(serviceurl+=-1===serviceurl.indexOf("?")?"?"+tmpSignUpFieldParams.slice(1,tmpSignUpFieldParams.length):tmpSignUpFieldParams,signupOptions.x_signup.params.serviceurl=serviceurl)}}}catch(exp){}return signupOptions.x_signup.params}function checking(){if($(".za-emailormobile-container").is(":visible")){var a=$("input[name='emailormobile']").val();a=a?a:$("input[name='mobile']").val();var check=/^(?:[0-9] ?){2,1000}[0-9]$/.test(a);1==check&&a?($(".select2").show(),setIndent($("#phonenumber,#mobilefield"))):($(".select2").eq(0).hide(),$("#phonenumber,#mobilefield").removeClass("textindent77"),$("#phonenumber,#mobilefield").removeClass("textindent86"),$("#phonenumber,#mobilefield").removeClass("textindent95"))}else $(".select2").show(),setIndent($("#mobilefield")),setIndent($("#rmobilefield"))}function format(option){var spltext;if(!option.id)return option.text;spltext=option.text.split("(");var cncode=$(option.element).attr("data_number"),cnnumber=$(option.element).attr("value"),cnnum=cncode.substring(1),flagcls="flag_"+cnnum+"_"+cnnumber.toUpperCase(),ob='<div class="pic '+flagcls+'" ></div><span class="cn">'+spltext[0]+"</span><span class='cc'>"+cncode+"</span>";return ob}function changeHip(idx,f,cdigest){f=f||idx;var iam_contextpath="undefined"!=typeof iam_contextpath?iam_contextpath:"",accountsUrl=ZAConstants.getAccountsServer();if(!f.captcha.disabled){var captchaCallback=function(json){var $captcha=$(f).find(".za-captcha").attr("src",accountsUrl+iam_contextpath+captchaPrefix+"/showcaptcha?digest="+json.digest);f.cdigest||$("<input type='hidden' name='cdigest' value='"+json.digest+"'>").insertAfter($captcha),f.cdigest.value=json.digest,f.captcha.value="",f.captcha.autocomplete="off"};cdigest=cdigest?cdigest:f.cdigest&&f.cdigest.value;var zaOptionsParam=$.fn.zaSignUp.defaults,data='{"captcha":{"digest":"'+cdigest+'","usecase":"signup","servicename":"'+zaOptionsParam.x_signup.service_name+'"}}',options={url:accountsUrl+iam_contextpath+uriPrefix+"/webclient/v1/captcha",type:"POST",data:data,headers:{"X-ZCSRF-TOKEN":zaOptionsParam.x_signup.csrfParamName+"="+Cookie.get(ZAConstants.csrfCookie)},success:captchaCallback},validator=this,formOptions=$(validator.currentForm).zaSignUp("options");CrossServiceRequest.send(options,formOptions.usePostMessage)}}function validateFirstName(selector){return $("#firstname").val().trim()&&isNaN(selector.value)?Validator.isName(selector.value)?void 0:(Form.Message.error(selector.name,I18N.get("IAM.NEW.SIGNUP.FIRSTNAME.VERIFY.SPL.CHARACTER")),!1):(Form.Message.error(selector.name,I18N.get("IAM.NEW.SIGNUP.FIRSTNAME.VALID")),!1)}function validateLastName(selector){return!isNaN(selector.value)&&selector.value?(Form.Message.error(selector.name,I18N.get("IAM.NEW.SIGNUP.LASTNAME.VALID")),!1):Validator.isValid(selector.value)&&!Validator.isName(selector.value)?(Form.Message.error(selector.name,I18N.get("IAM.NEW.SIGNUP.LASTNAME.VERIFY.SPL.CHARACTER")),!1):void 0}function setIndent(ele){var codeVal=ele.siblings(".za-country_code-container").find("select option:selected").attr("data_number");ele.removeClass("textindent95"),ele.removeClass("textindent86"),ele.removeClass("textindent77"),"3"==codeVal.length&&ele.addClass("textindent86"),"2"==codeVal.length&&ele.addClass("textindent77"),"4"==codeVal.length&&ele.addClass("textindent95")}function selectFlag(e){var flagpos="flag_"+$(e).val().toUpperCase();$(".select2-selection__rendered").attr("title",""),e.parent().siblings(".select2").find("#selectFlag").attr("class",""),e.parent().siblings(".select2").find("#selectFlag").addClass("selectFlag"),e.parent().siblings(".select2").find("#selectFlag").addClass(flagpos)}function validateInputFeilds(){return $("#firstname").val()&&isNaN($("#firstname").val())?!isNaN($("#lastname").val())&&$("#lastname").val()?(Form.Message.error("lastname",I18N.get("IAM.NEW.SIGNUP.LASTNAME.VALID")),!1):Validator.isValid($("#firstname").val())&&!Validator.isName($("#firstname").val())?(Form.Message.error("firstname",I18N.get("IAM.NEW.SIGNUP.FIRSTNAME.VERIFY.SPL.CHARACTER")),!1):Validator.isValid($("#lastname").val())&&!Validator.isName($("#lastname").val())?(Form.Message.error("lastname",I18N.get("IAM.NEW.SIGNUP.LASTNAME.VERIFY.SPL.CHARACTER")),!1):!0:(Form.Message.error("firstname",I18N.get("IAM.NEW.SIGNUP.FIRSTNAME.VALID")),!1)}function changeDomainName(countryCode){var countryAU=["AU","NZ"],countryEU=["RS","VA","UA","CH","SE","ES","SI","SK","SM","RO","PT","PL","NO","NL","ME","MC","MD","MT","MK","LU","LT","LI","LV","IT","IM","IE","IS","HU","GR","GI","DE","FR","FI","FO","EE","DK","CZ","CY","HR","BG","BA","BE","BY","AT","AD","AL","AX","GG","JE","XK","SJ","CS","UK","TR","GE"],countryIN=["IN"],countryJP=["JP"],countryUK=["GB"],countryCA=["CA"];if("localzoho"!=window.location.hostname.split(".")[1])if(-1!=countryAU.indexOf(countryCode)){var selectedDC="AUSTRALIA";changeRegisterUrl("com.au",!1,countryCode,selectedDC)}else if(-1!=countryEU.indexOf(countryCode)){var selectedDC="EUROPE";changeRegisterUrl("eu",!1,countryCode,selectedDC)}else if(-1!=countryIN.indexOf(countryCode)){var selectedDC="INDIA";changeRegisterUrl("in",!1,countryCode,selectedDC)}else if(-1!=countryJP.indexOf(countryCode)){var selectedDC="JAPAN";changeRegisterUrl("jp",!1,countryCode,selectedDC)}else if(-1!=countryUK.indexOf(countryCode)){var selectedDC="UNITED KINGDOM";changeRegisterUrl("uk",!1,countryCode,selectedDC)}else if(-1!=countryCA.indexOf(countryCode)){var selectedDC="CANADA";changeRegisterUrl("ca",!1,countryCode,selectedDC)}else{var selectedDC="US";changeRegisterUrl("com",!1,countryCode,selectedDC)}else if(-1!=countryEU.indexOf(countryCode)){var selectedDC="EU";changeRegisterUrl("eu",!0,countryCode,selectedDC)}else{var selectedDC="US";changeRegisterUrl("com",!0,countryCode,selectedDC)}return!1}function changeCountryDomain(){$(".za-country-container").show(),$(".domain_text span").html(I18N.get("IAM.NEW.SIGNUP.COUNTRY.CHANGE.DESC"));var selectElem=$(".za-country-container select[name=country]")[0];toggleCountryStates(selectElem)}function changeRegisterUrl(dc,islocal,countryCode,selectedDC){var currentDc=signupform.action.split(".")[2].split("/")[0];if(currentDc!=dc||"undefined"!=typeof loadCountryOptions&&"false"!==loadCountryOptions){var domain=signupform.action.split(".")[1];domain="zohoone"==domain&&"ca"!=dc?"zoho":"ca"==dc?"zohoone":domain;var changedomain=signupform.action.split(".")[0]+"."+domain+"."+dc;if(islocal&&"eu"==dc)changedomain="https://eu1-accounts.localzoho.eu";else if(islocal){var localdomain=window.location.hostname.split(".")[0];localdomain="eu1-accounts"==localdomain?"accounts":localdomain,changedomain=window._xxxHTTPS+localdomain+".localzoho."+dc}var jsUrl=changedomain+getRegisterUrl()+"&load_country=false",actionUrl=changedomain+"/webclient/v1/register/initiate";$("input[name='cdigest']").remove();var formdata=signupform;$(".fed_2show").hide(),$(".fed_div").remove(),$("#country").hasClass("select2-hidden-accessible")?$(".countryCnt").select2("destroy"):"",$("#country-coderecovery").hasClass("select2_used_tag")?$("#country-coderecovery").select2("destroy"):"",$("#country-emailormobile").hasClass("select2_used_tag")?$("#country-emailormobile").select2("destroy"):"",$("#country-code").hasClass("select2_used_tag")?$("#country-code").select2("destroy"):"",$("select").removeClass("select2_used_tag"),$('form[name="signupform"]').parent().html("").html(formdata),signupform.action=actionUrl,includeScript(jsUrl);var tosElem=$(".tos-signup span a")&&$(".tos-signup span a")[0],privacyElem=$(".tos-signup span a")&&$(".tos-signup span a")[1];if("undefined"!=typeof tosElem&&"undefined"!=typeof privacyElem&&!islocal){var usedDomain="localzoho"!=domain?domain:tosElem.href.split(".")[1];tosElem.href=window._xxxHTTP+"www."+usedDomain+"."+dc+"/"+tosElem.href.split("/")[3],privacyElem.href=window._xxxHTTP+"www."+usedDomain+"."+dc+"/"+privacyElem.href.split("/")[3]}if("IN"==ZADefaultCountry&&"IN"!=countryCode)$(".za-country-container").show(),$(".domain_text span").html(I18N.get("IAM.NEW.SIGNUP.COUNTRY.CHANGE.DESC"));else if(""!=countryCode){$(".za-domain-container").show();var selectElem=$(".za-country-container select[name=country]")[0];toggleCountryStates(selectElem),$(".domain_text span").html(countryCode==ZADefaultCountry?I18N.get("IAM.NEW.SIGNUP.DOMAIN.CHANGE.DESC"):I18N.get("IAM.NEW.SIGNUP.DOMAIN.CHANGE.FINAL.DESC")),$(".selectedCountry").text($("#country option[value="+countryCode+"]").text()),$(".selectedDomain").text(selectedDC),$(".za-country-container,.za-country_state-container").hide()}enableCCSwitch?$(".domain_text .CCchange").show():$(".domain_text .CCchange").hide()}return!1}function removeParam(key,sourceURL){var isURL=-1!=sourceURL.indexOf("?"),urlwithparams=sourceURL.split("?"),params=new URLSearchParams(isURL?urlwithparams[1]:sourceURL);return params.delete(key),isURL?urlwithparams[0]+"?"+params.toString():sourceURL.toString()}function _checkZDToken(){var token=_readTokenFromCookie();(null==token||void 0==token||""==token)&&_zdToken()}function _zdToken(){$.ajax({async:!0,url:zdtdomain+"/web/zdt",type:"GET",xhrFields:{withCredentials:!0},error:function(xhr){403==xhr.status&&(zdtRetryEnable=!1)}})}function _readTokenFromCookie(){for(var name="_zcsrdt=",ca=document.cookie.split(";"),i=0;i<ca.length;i++){for(var c=ca[i];" "==c.charAt(0);)c=c.substring(1,c.length);if(0==c.indexOf(name))return c.substring(name.length,c.length)}return null}var PasswordStrength=function(){var MULTIPLE_NUMBERS_RE=/\d.*?\d.*?\d/,MULTIPLE_SYMBOLS_RE=/[!@#$%^&*?_~].*?[!@#$%^&*?_~]/,UPPERCASE_LOWERCASE_RE=/([a-z].*[A-Z])|([A-Z].*[a-z])/,SYMBOL_RE=/[!@#\$%^&*?_~]/;this.username=null,this.password=null,this.score=0,this.status=null,this.test=function(){return this.score=0,this.containInvalidMatches()?this.status="invalid":(this.score+=this.scoreFor("password_size"),this.score+=this.scoreFor("numbers"),this.score+=this.scoreFor("symbols"),this.score+=this.scoreFor("uppercase_lowercase"),this.score+=this.scoreFor("numbers_chars"),this.score+=this.scoreFor("numbers_symbols"),this.score+=this.scoreFor("symbols_chars"),this.score+=this.scoreFor("only_chars"),this.score+=this.scoreFor("only_numbers"),this.score+=this.scoreFor("username"),this.score+=this.scoreFor("sequences"),this.score+=this.scoreFor("repetitions"),this.score<0&&(this.score=0),this.score>100&&(this.score=100),this.score<35&&(this.status="weak"),this.score>=35&&this.score<70&&(this.status="good"),this.score>=70&&(this.status="strong")),this.score},this.scoreFor=function(name){switch(score=0,name){case"password_size":score=this.password.length<4?-100:4*this.password.length;break;case"numbers":this.password.match(MULTIPLE_NUMBERS_RE)&&(score=5);break;case"symbols":this.password.match(MULTIPLE_SYMBOLS_RE)&&(score=5);break;case"uppercase_lowercase":this.password.match(UPPERCASE_LOWERCASE_RE)&&(score=10);break;case"numbers_chars":this.password.match(/[a-z]/i)&&this.password.match(/[0-9]/)&&(score=15);break;case"numbers_symbols":this.password.match(/[0-9]/)&&this.password.match(SYMBOL_RE)&&(score=15);break;case"symbols_chars":this.password.match(/[a-z]/i)&&this.password.match(SYMBOL_RE)&&(score=15);break;case"only_chars":this.password.match(/^[a-z]+$/i)&&(score=-15);break;case"only_numbers":this.password.match(/^\d+$/i)&&(score=-15);break;case"username":this.password==this.username?score=-100:-1!=this.password.indexOf(this.username)&&(score=-15);break;case"sequences":score+=-15*this.sequences(this.password),score+=-15*this.sequences(this.reversed(this.password));break;case"repetitions":score+=-(4*this.repetitions(this.password,2)),score+=-(3*this.repetitions(this.password,3)),score+=-(2*this.repetitions(this.password,4))}return score},this.isGood=function(){return"good"==this.status},this.isWeak=function(){return"weak"==this.status},this.isStrong=function(){return"strong"==this.status},this.isInvalid=function(){return"invalid"==this.status},this.isValid=function(level){return"strong"==level?this.isStrong():"good"==level?this.isStrong()||this.isGood():!this.containInvalidMatches()},this.containInvalidMatches=function(){return this.exclude&&this.exclude.test?this.exclude.test(this.password.toString()):!1},this.sequences=function(text){for(var previousCode,currentCode,matches=0,sequenceSize=0,codes=[],len=text.length,i=0;len>i;i++)currentCode=text.charCodeAt(i),previousCode=codes[codes.length-1],codes.push(currentCode),previousCode&&(currentCode==previousCode+1||previousCode==currentCode?sequenceSize+=1:sequenceSize=0),2==sequenceSize&&(matches+=1);return matches},this.repetitions=function(text,size){for(var substring,occurrences,tmpText,count=0,matches={},len=text.length,i=0;len>i;i++)if(substring=text.substr(i,size),occurrences=0,tmpText=text,!(matches[substring]||substring.length<size)){for(matches[substring]=!0;-1!=(i=tmpText.indexOf(substring));)occurrences+=1,tmpText=tmpText.substr(i+1);occurrences>1&&(count+=1)}return count},this.reversed=function(text){for(var newText="",len=text.length,i=len-1;i>=0;i--)newText+=text.charAt(i);return newText}};PasswordStrength.test=function(username,password){return strength=new PasswordStrength,strength.username=username,strength.password=password,strength.test(),strength},function(b){b.fn.mailcheck=function(a,b){var d="yahoo.com,google.com,hotmail.com,gmail.com,me.com,aol.com,mac.com,live.com,comcast.net,googlemail.com,msn.com,hotmail.co.uk,yahoo.co.uk,facebook.com,verizon.net,sbcglobal.net,att.net,gmx.com,mail.com".split(","),e="co.uk,com,net,org,info,edu,gov,mil".split(",");if("object"==typeof a&&void 0===b)a.domains=a.domains||d;else{var g=a,a=b;a.domains=g||d}a.topLevelDomains=a.topLevelDomains||e,a.distanceFunction=Kicksend.sift3Distance,(d=Kicksend.mailcheck.suggest(encodeURI(this.val()),a.domains,a.topLevelDomains,a.distanceFunction))?a.suggested&&a.suggested(this,d):a.empty&&a.empty(this)}}(jQuery);var Kicksend={mailcheck:{threshold:3,suggest:function(b,a,c,d){if(b=b.toLowerCase(),b=this.splitEmail(b),a=this.findClosestDomain(b.domain,a,d)){if(a!=b.domain)return{address:b.address,domain:a,full:b.address+"@"+a}}else if(c=this.findClosestDomain(b.topLevelDomain,c),b.domain&&c&&c!=b.topLevelDomain)return a=b.domain,a=a.substring(0,a.lastIndexOf(b.topLevelDomain))+c,{address:b.address,domain:a,full:b.address+"@"+a};return!1},findClosestDomain:function(b,a,c){var d,e=99,g=null;if(!b||!a)return!1;c||(c=this.sift3Distance);for(var f=0;f<a.length;f++){if(b===a[f])return b;d=c(b,a[f]),e>d&&(e=d,g=a[f])}return e<=this.threshold&&null!==g?g:!1},sift3Distance:function(b,a){if(null==b||0===b.length)return null==a||0===a.length?0:a.length;if(null==a||0===a.length)return b.length;for(var c=0,d=0,e=0,g=0;c+d<b.length&&c+e<a.length;){if(b.charAt(c+d)==a.charAt(c+e))g++;else for(var f=e=d=0;5>f;f++){if(c+f<b.length&&b.charAt(c+f)==a.charAt(c)){d=f;break}if(c+f<a.length&&b.charAt(c)==a.charAt(c+f)){e=f;break}}c++}return(b.length+a.length)/2-g},splitEmail:function(b){if(b=b.split("@"),2>b.length)return!1;for(var a=0;a<b.length;a++)if(""===b[a])return!1;var c=b.pop(),d=c.split("."),e="";if(0==d.length)return!1;if(1==d.length)e=d[0];else{for(a=1;a<d.length;a++)e+=d[a]+".";2<=d.length&&(e=e.substring(0,e.length-1))}return{topLevelDomain:e,domain:c,address:b.join("@")}}}},ZAConstants={csrfParam:null,csrfCookie:null,contextpath:"/accounts",load:function(json){function inIframe(){try{return window.self!=window.top}catch(e){return!0}}function setCookie(x,cookieDomain){var dt=new Date;dt.setDate(dt.getYear()*x);var cookieStr="IAM_TEST_COOKIE=IAM_TEST_COOKIE;expires="+dt.toGMTString()+";setPath='/'";cookieDomain&&"null"!=cookieDomain&&(cookieStr+=";domain="+cookieDomain);var iurl=window.location.href;iurl.startsWith("https://")&&(cookieStr+=";secure"),ZAConstants.setSameSite&&(cookieStr+=";SameSite=none"),document.cookie=cookieStr}if(this.config=json,$.each("accountsServer,csrfParam,csrfCookie,contextpath,js_url,css_url,img_url,dcc".split(","),function(i,key){var v=json[key];v&&(ZAConstants[key]=v)}),!ZAConstants.dcc&&inIframe())try{setCookie(24,ZAConstants.accountsCookieDomain),-1==document.cookie.indexOf("IAM_TEST_COOKIE")&&(setCookie(0,ZAConstants.accountsCookieDomain),window.parent.location.href=window.location.href)}catch(e){}},setAccountsServer:function(serverURL){if(-1==serverURL.indexOf("://"))throw"Invalid Protocol given for the URL : "+serverURL;this.accountsServer=serverURL,this.schemeLessAccountsServer=null},getAccountsServer:function(){return!this.schemeLessAccountsServer&&this.accountsServer&&(this.schemeLessAccountsServer=this.accountsServer.substring(this.accountsServer.indexOf("://")+1)),this.schemeLessAccountsServer},getAbsoluteURL:function(path){return this.getAccountsServer()+path},getIAMUrl:function(path){var iam_contextpath="undefined"!=typeof iam_contextpath?iam_contextpath:"";return this.getAccountsServer()+iam_contextpath+path}};$.isFunction(String.prototype.trim)||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var _xxxHTTP="http__://".replace("__",""),_xxxHTTPS="https__://".replace("__","");!function($){function processField(idx,input){var $input=$(input),placeholder=$input.attr("placeholder");$input.attr("title")||$input.attr("title",placeholder);var $overlay=$("<span />").addClass("zph-overlay").html(placeholder).css("font-size",$(input).css("font-size"));$input.removeAttr("placeholder").keydown(toggleClass).parent().addClass("zph-placeholder").prepend($overlay),$overlay.click(function(){$input.focus()}),toggleClass(null,$input)}function toggleClass(e,t){var $input=$(t||this);setTimeout(function(){var value=$input.val();0==value?$input.parent().removeClass("zph-hide").addClass("zph-show"):$input.parent().removeClass("zph-show").addClass("zph-hide")},0)}$.support.zplaceholder="placeholder"in document.createElement("input"),$.fn.zPlaceHolder=function(){(!$.support.zplaceholder||$.browser&&$.browser.msie&&!(parseInt($.browser.version)<10))&&this.each(processField)}}(jQuery);var Cookie={add:function(cn,cv,domain,maxage,secure){document.cookie=cn+"="+escape(cv)+";path=/"+(domain?";domain="+domain:"")+(maxage?";max-age="+maxage:"")+(secure?";secure="+secure:"")},get:function(cn){if(document.cookie.length>0){var beginIdx=document.cookie.indexOf(cn+"=");if(-1!=beginIdx){beginIdx=beginIdx+cn.length+1;var endIdx=document.cookie.indexOf(";",beginIdx);return-1==endIdx&&(endIdx=document.cookie.length),unescape(document.cookie.substring(beginIdx,endIdx))}}return""},append:function(cn,cv,domain,separator,maxage,secure){var oldcv=Cookie.get(cn),newcv="";newcv=oldcv?oldcv+separator+cv:cv,Cookie.add(cn,newcv,domain,maxage,secure)},remove:function(cn){document.cookie=cn+"=remove;path=/;max-age=0"}},I18N={data:{},load:function(arr){return $.extend(this.data,arr),this},get:function(key,args){if("object"==typeof key){for(var i in key)key[i]=I18N.get(key[i]);return key}var msg=this.data[key]||key;return args?(arguments[0]=msg,Util.format.apply(this,arguments)):msg}},Util={euc:function(value){return encodeURIComponent(value)},duc:function(value){return decodeURIComponent(value)},paramConfigure:function(args){var params=Util.parseParameter(location.search);$("html").hide(),$(document).ready(function(){$.each(params,function(pname,pvalue){pvalue="true"===pvalue;var value=args[pname];"string"==typeof value?$(value)[pvalue?"show":"hide"]():pvalue&&"object"==typeof value?$.each(value,function(selector,attrObj){$(selector).attr(attrObj)}):pvalue&&"function"==typeof value&&args[pname]()})}),$("html").show()},getCSRFValue:function(){return ZAConstants.csrfParam+"="+Util.euc(Cookie.get(ZAConstants.csrfCookie))},addCSRFParam:function(arr){return arr=arr||{},arr[ZAConstants.csrfParam]=Cookie.get(ZAConstants.csrfCookie),arr},parseParameter:function(qs){var paramArr={};if(-1==qs.indexOf("="))return paramArr;"?"==qs.charAt(0)&&(qs=qs.substring(1));for(var params=qs.split("&"),i=0;i<params.length;i++){var pArr=params[i].split("="),pN=decodeURIComponent(pArr[0]),pV=decodeURIComponent(pArr[1]),pOldV=paramArr[pN];pOldV?$.isArray(pOldV)?pOldV.push(pV):paramArr[pN]=[pOldV,pV]:paramArr[pN]=pV}return paramArr},serializeParams:function(obj){var sb=new StringBuilder;for(var k in obj){var v=obj[k];if(v)if(sb.isEmpty()||sb.append("&"),$.isArray(v))for(var first=!0,j=0;j<v.length;j++)first||sb.append("&"),sb.append(Util.euc(k)).append("=").append(Util.euc(v[j])),first=!1;else sb.append(Util.euc(k)).append("=").append(Util.euc(v))}return sb.toString()},stopEvents:function(e){e.stopPropagation?(e.preventDefault(),e.stopPropagation()):(e.cancelBubble=!0,e.returnValue=!1)},includeJSON2:function(){var json=window.JSON;if(!$.isFunction(json&&json.parse&&json.stringify)){var e=document.createElement("script");e.src=ZAConstants.js_url+"/js/tplibs/json2.js",e.type="text/javascript",document.body.appendChild(e)}},redirectToHTTPS:function(){var https=new StringBuilder("h").append("ttps://"),url=window.location.href;if(0!=url.indexOf(https)){var http=new StringBuilder("h").append("ttp://"),port=window.location.port;(0==port.length||"80"==port||"8080"==port)&&(url=url.replace(http,https),window.location.href=-1!=url.indexOf("]:8080")?url.replace("]:8080","]:8443"):url.replace("8080","8443"))}},format:function(msg){if(msg)for(var i=1;i<arguments.length;i++)msg=msg.replace(new RegExp("\\{"+(i-1)+"\\}","g"),arguments[i]);return msg},updateOrigin:function(d){var domain=d||location.hostname,subdomain=getSubDomain(domain);return document.domain!==subdomain?(document.domain=subdomain,subdomain):void 0},valueOf:function(value,context){return $.isFunction(value)?value.call(context||this):value},getServerURL:function(url){if(0===url.indexOf("//")&&(url=window.location.protocol+url),0!==url.indexOf(_xxxHTTP)&&0!==url.indexOf(_xxxHTTPS))return null;var idx=url.indexOf("/",8);return-1===idx?url:url.substring(0,idx)}};AjaxResponse.FIELDS={TYPE:"t",ERROR:"error",DATA:"data"};var CrossServiceRequest={CONSTANTS:{RESOURCE_FIELD:"r_",CUSTOM_FIELD:"x_"},appURLs:{},currentForm:null,corsOptions:{type:"POST",crossDomain:!0,xhrFields:{withCredentials:!0}},postMessageOptions:{data:{_pmsg:!0}},jsSameOriginOptions:{data:{_corsfn:"CrossServiceRequest.handleFrameCallback"}},send:function(url,_options,usePostMessage){var options=options||{};if("object"==$.type(url)?(usePostMessage=_options,options=url):$.isFunction(options)?options={url:url,success:options}:(options.url=url,usePostMessage=options),options.url&&0!=options.url.indexOf("http")&&options.url&&0!=options.url.indexOf("//")&&(options.url=ZAConstants.getAbsoluteURL(options.url)),$.support.cors&&!usePostMessage)options=$.extend(!0,{},options,this.corsOptions),$.ajax(options);else{usePostMessage=usePostMessage&&!!window.postMessage;var iframeOptions=usePostMessage?this.postMessageOptions:this.jsSameOriginOptions,isDataInString=options.data&&"string"==$.type(options.data);if(isDataInString){var actualData=options.data;options=$.extend(!0,{},options,iframeOptions),options.data=actualData+"&"+$.zaParam(iframeOptions.data)}else options=$.extend(!0,{},options,iframeOptions);this.currentIFrame=CrossServiceRequest.insertCORSFrame();var $form=$("<form></form>",{action:options.url,method:"POST",autocomplete:"off",target:"corsFrame"});$.each(isDataInString?options.data.split("&"):options.data,function(k,v,i){if(isDataInString){i=k;var vArr=v.split("=");k=Util.duc(vArr[0]),v=Util.duc(vArr[1])}$("<input>",{type:"hidden",name:k,value:v}).appendTo($form)}),this.currentForm=$form.appendTo(document.body).data("__cors_options__",options),usePostMessage?$(window).one("message",{requestURL:options.url},CrossServiceRequest.handleReceiveMessage):Util.updateOrigin(),this.currentForm.submit()}},insertCORSFrame:function(){var $frame=$("iframe[name='corsFrame']");return $frame.length||($frame=$('<iframe src="'+ZAConstants.img_url+'/images/spacer.gif" name="corsFrame" frameborder="0" scrolling="no" style="display:none;border: none;margin: 0;width: 0;"></iframe>').appendTo(document.body)),$frame},handleResponse:function(data){var options=CrossServiceRequest.currentForm.data("__cors_options__");CrossServiceRequest.currentForm.remove(),CrossServiceRequest.currentForm=null,options.complete&&options.complete.call(options.context||this,data),options.success&&options.success.call(options.context||this,data)},handleFrameCallback:function(data){CrossServiceRequest.handleResponse(data)},handleReceiveMessage:function(_ev){var ev=_ev.originalEvent;if(!ev.origin||Util.getServerURL(_ev.data.requestURL)!==ev.origin)throw new Error("Message recevied from invalid origin. Origin : "+ev.origin+", Expected : "+_ev.data.requestURL);if(!ev.source||ev.source!==CrossServiceRequest.currentIFrame.get(0).contentWindow)throw new Error("Message recevied from invalid source");var data;try{data=$.parseJSON(ev.data)}catch(e){data=ev.data}CrossServiceRequest.handleResponse(data)},toJSON:function(screen,f,extraParams){for(var params={},hasCustomParam=!1,fields=$(f).serializeArray(),i=0;i<fields.length;i++){var field=fields[i],name=field.name;hasCustomParam||0!=name.indexOf(CrossServiceRequest.CONSTANTS.CUSTOM_FIELD)||(hasCustomParam=!0),"true"!=$(f[name]).data("secret")&&field.value&&field.value.length<500&&(params[name]=field.value)}return hasCustomParam?{v1:$.extend(!0,{screen:screen,params:params},extraParams)}:null},getAjaxOptions:function(appName,method,data,callback){var url=this.appURLs[appName]+"/~za~/"+appName+"/"+method,options={url:url,data:data,type:"POST",dataType:"json"};return $.isFunction(callback)?options.success=callback:callback&&$.extend(!0,options,callback),options},getAjaxOptionsWithHeader:function(appName,method,data,callback,customDataToken){var url=this.appURLs[appName]+"/~za~/"+appName+"/"+method,options={url:url,data:data,type:"POST",dataType:"json"};return customDataToken&&(options.headers={"Z-Authorization":"Zoho-temptoken "+customDataToken}),$.isFunction(callback)?options.success=callback:callback&&$.extend(!0,options,callback),options},sendToApp:function(appName,method,data,callback,usePostMessage){var options=this.getAjaxOptions(appName,method,data,callback);return CrossServiceRequest.send(options,usePostMessage)},sendToAppWithHeader:function(appName,method,data,callback,usePostMessage,customDataToken){var options=this.getAjaxOptionsWithHeader(appName,method,data,callback,customDataToken);return CrossServiceRequest.send(options,usePostMessage)}},__za_r20=/\+/g;$.zaParam=function(obj){obj.constructor===Array&&obj.length>0&&("username"==obj[0].name||"email"==obj[0].name||"mobile"==obj[0].name)&&(obj[0].value=obj[0].value.trim());var str=$.param(obj);return str?str.replace(__za_r20,"%20"):str},$.fn.zaSerialize=function(){return $.zaParam(this.serializeArray())},$.fn.form=function(options){if(!this.length)return this;var f=this.data("__form_obj__");if(f){if("string"==typeof options&&"_"!==options.charAt(0)){var value=f[options];if($.isFunction(f[options]))return value.apply(f,Array.prototype.slice.apply(arguments).splice(1));if(void 0!==value)return value}}else f=new Form(this,options),this.data("__form_obj__",f);return this},$.fn.form.defaults={create:null,url:null,method:"post",params:null,handleParams:null,crossdomain:!1,usePostMessage:!1,csrf:!0,commonerror:!1,success:null,error:null,ajax:{},validator:{},onsubmit:null,oncomplete:null,passwordStrength:null,hints:null,animateError:!0,submitButton:":submit",disableSubmit:!0,zplaceholder_fallback:!0},$.fn.form.validatorOptions={debug:!0,errorElement:"span",onsubmit:!1,onkeyup:function(element){var validator=this,timeoutKey=element.name+"_timeout";validator.za||(validator.za={}),clearTimeout(validator.za[timeoutKey]),validator.za[timeoutKey]=setTimeout(function(){(element.name in validator.submitted||""!=$(element).val())&&validator.element(element)},validator.settings.onkeyupdelay||500)},showErrors:function(errorMap){var $form=$(this.currentForm),options=$form.zaSignUp("options");options.commonerror?$.isEmptyObject(errorMap)?$form.zaSignUp("hideErrors",$form):$form.zaSignUp("showErrors",errorMap):this.defaultShowErrors()},errorPlacement:function(error,$input){Form.Message.create($input,"error",error).addClass("jqval-error"),0===$(".za-fullname-container .jqval-error").text().length&&$(".za-fullname-container .field-msg").remove()},highlight:function(input){Form.Message.error(input.name)},unhighlight:function(input){Form.Message.hideError(input)},success:function($error){Form.Message.valid($error.parent().parent())}},Form.prototype._normalizeOptions=function(){var _this=this,options=_this.options;if(options.url=_this._val(options.url)||_this.element.attr("action"),options.method=options.method||_this.element.attr("method"),$.isEmptyObject(options.validator))options.validator=null;else{var oldKeyUp=options.validator.onkeyup;options.validator=$.extend(!0,{},$.fn.form.validatorOptions,options.validator),options.validator.onkeyup=oldKeyUp===!0?$.fn.form.validatorOptions.onkeyup:oldKeyUp||!1}var isChrome=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor);isChrome&&(options.usePostMessage=!1),options.ajax=$.extend(!0,{url:options.url,type:options.method,context:_this,complete:_this._complete,success:options.success,error:options.error},options.ajax)},Form.prototype._val=function(value){return $.isFunction(value)?value.call(this):value},Form.prototype._initHints=function(){var _this=this,hints=_this.options.hints;for(var k in hints){var formEle=_this.element[0][k],$input=formEle&&formEle.nodeType===Node.ELEMENT_NODE?$(formEle):_this.element.find(k);Form.Message.element($input,"note").html(_this._val(hints[k]))}return this},Form.prototype._complete=function(jqXHR,textStatus){var _this=this,options=this.options;_this.updateSubmitState(!1),options.oncomplete&&options.oncomplete.call(this,jqXHR,textStatus)},Form.prototype.validate=function(){return this.validator?this.element.valid():!0},Form.prototype.showErrors=function(errorObj){if(this.options.commonerror)for(var i in errorObj)return Form.Message.error(this.element,errorObj[i]),!1;if(this.validator)this.validator.showErrors(errorObj),this.validator.focusInvalid();else{Form.Message.errors(this.element,errorObj);var f=this.element.get(0);for(var i in errorObj)if(f[i]){f[i].focus();break}}},Form.prototype.hideErrors=function(fields){Form.Message.hideErrors(this.element,fields)},Form.prototype.submit=function(event){Util.stopEvents(event);var _this=this,options=_this.options,$errorFields=options.animateError&&_this.element.find(".field-error");if(Form.Message.hideError(_this.element),_this.element.parent().find(".field-msg").remove(),!_this.validate())return _this.validator.focusInvalid(),options.animateError&&$errorFields.length==_this.element.find(".field-error").length&&$errorFields.fadeOut(function(){$(this).fadeIn()}),!1;if(_this.validator&&_this.validator.pendingRequest)return void(_this.validator.formSubmitted=!0);var params=null;if(options.handleParams)params=options.handleParams.call(this);else{if(params=_this.element.zaSerialize(),options.csrf&&"post"==options.method&&(params+="&"+Util.getCSRFValue()),options.params){var optParams=this._val(options.params);params+="&"+("object"==typeof optParams?Util.serializeParams(optParams):optParams)}-1==params.indexOf("mode")&&(params+="&mode=01")}"undefined"!=typeof signup_defaultmode&&(removeParam("mode",params),params+="&mode="+signup_defaultmode);var queryparams=params.slice(0).split("&"),result={};queryparams.forEach(function(pair){pair=pair.split("="),pair[0]&&!pair[0].startsWith("c_")&&(result[decodeURIComponent(pair[0])]=decodeURIComponent(pair[1]||"").trim())}),"undefined"!=typeof countrycode&&countrycode&&(result.country_code=countrycode),options.ajax.url=options.url=removeParam("loginIdChanged",options.ajax.url),options.url=options.ajax.url=loginIdChanged?-1!==options.ajax.url.indexOf("?")?options.ajax.url+"loginIdChanged=true":options.ajax.url+"?loginIdChanged=true":options.ajax.url;var signupParams=JSON.parse(JSON.stringify(result)),jsonData={signup:signupParams},ajaxOptions=$.extend(!0,{dataType:"json",data:JSON.stringify(jsonData),headers:{"Z-Authorization":"Zoho-ticket "+temp_token},contentType:"application/json"},options.ajax),onSubmitValue=options.onsubmit&&options.onsubmit.call(this,ajaxOptions);return onSubmitValue===!1?!1:(_this.updateSubmitState(!0),void(options.crossdomain===!0?CrossServiceRequest.send(ajaxOptions,options.usePostMessage):$.ajax(ajaxOptions)))},Form.prototype.updateSubmitState=function(disable){var options=this.options;if(options.submitButton&&options.disableSubmit){var $btn=this.element.find(options.submitButton),disableValue=this._val(options.disableSubmit);disable?($btn.attr("disabled","true").addClass("disable-btn"),"string"==typeof disableValue&&$btn.data("za_form_original_value",$btn.val()).val(disableValue)):($btn.removeAttr("disabled").removeClass("disable-btn"),"string"==typeof disableValue&&$btn.val($btn.data("za_form_original_value")||$btn.val()))}},Form.Message={valid:function(selector){var $input=$(selector);return this.isForm($input)?this.element($input,"error").hide():$input.parent().addClass("field-valid"),$input},errors:function($f,obj){for(var k in obj)this.error($f.find("[name='"+k+"']"),obj[k])},hideErrors:function($f,fields){for(var i=0;i<fields.length;i++){var v=fields[i];this.hideError("string"==typeof v?$f.find("[name='"+v+"']"):v)}},error:function(selector,msg){$(".loader, .blur").hide();try{var $input=$(0===$("input[name='"+selector+"']").length?"form[name='"+selector+"']":"input[name='"+selector+"']")}catch(e){$input=$(selector)}return msg&&this.element($input,"error").html(msg),this.isForm($input)?this.element($input,"error").css("display","block"):$input.parent().addClass("field-error").removeClass("field-valid"),$input},hideError:function(selector){var $input=$(selector);return this.isForm($input)?this.element($input,"error").hide():$input.parent().removeClass("field-error"),$input},isForm:function($e){return $e.is("form")||$e.is(".form")},element:function($input,type){var $msg=this.isForm($input)?$input.find("> .field-msg ."+type):$input.parent().find(".field-msg ."+type);return $msg.length?$msg:this.create($input,type)},create:function($input,type,msg){var $msgobj,isForm=this.isForm($input),$fieldMsg=isForm?$input.children(".field-msg"):$input.siblings(".field-msg");return $fieldMsg.length||($fieldMsg=$("<div class='field-msg'></div>")[isForm?"prependTo":"appendTo"]($input.parent())),$msgobj=msg&&"string"!=typeof msg?$(msg):$("<span class='"+type+"'></span>").html(msg),$fieldMsg.find("span."+type).length>0&&$fieldMsg.find("span."+type).remove(),$msgobj.appendTo($fieldMsg)}},Form.PasswordStrength={UI:'<div class="password-strength"><div></div></div>',COLORS:{weak:"#EA0206",fair:"#F2E148",good:"#90EE90",strong:"#1DB232"},_create:function($input){return $(Form.PasswordStrength.UI).appendTo($input.parent().css("position","relative"))},init:function(selector,context,pwdlen){$(selector,context).each(function(){var $input=$(this);$input.siblings(".password-strength").length||(Form.PasswordStrength._create($input),$input.keyup(function(){var username=this.form&&this.form.username&&this.form.username.value;$input.attr("ps-username")&&(username=$($input.attr("ps-username"),this.form).val()),Form.PasswordStrength.check(this,username,pwdlen)}))})},getStatus:function(score){return 30>score?"weak":score>=30&&60>score?"fair":score>=60&&80>score?"good":"strong"},getScore:function(username,value){return PasswordStrength.test(username,value).score},check:function(passwordEle,username,pwdlen){var $password=$(passwordEle),value=$password.val().trim(),$ps=$password.siblings(".password-strength");if(value.length>=1){var score=pwdlen&&value.length<pwdlen?"10":Form.PasswordStrength.getScore(username,value),bgColor=Form.PasswordStrength.COLORS[Form.PasswordStrength.getStatus(score)]||Form.PasswordStrength.COLORS.good;$ps.length||($ps=Form.PasswordStrength._create($password));var defaultWidth=0===score?5:score;$ps.show().find("div").width(defaultWidth+"%").css("background-color",bgColor)}else $ps.hide()}},Form.checkEmailDomain={UI:'<div class="za-email-suggestion"><div></div></div>',_create:function($input){return $(Form.checkEmailDomain.UI).appendTo($input.parent().css("position","relative"))},init:function(selector,context,domains,isEmailCheck){return isEmailCheck?void $(selector,context).each(function(){var $input=$(this);$input.siblings(".za-email-suggestion").length||(Form.checkEmailDomain._create($input),$input.blur(function(){Form.checkEmailDomain.check($input,domains.split(","))}))}):!1},check:function(id,domains){var $suggest=id.siblings(".za-email-suggestion");$suggest.length||Form.checkEmailDomain._create(id);var suggestion=Form.checkEmailDomain.getSuggestedDomain(id,domains),oldemail=$('input[name="email"]').val(),domain=oldemail.split("@"),domainpart=domain[1],dvallength=0;if(domainpart){var dval=domainpart.split(".");dvallength=dval.length;var domval=dval[dvallength];length=domval?domval.trim().length:0}for(var whitelist="ymail.com,yahoo.co.,yahoo.com.,hotmail.co.,hotmail.com.,gmx.net,gmx.at,gmx.ch,gmx.com,mail.com,web.com",whitelist_regex=whitelist.split(","),containInWhiteList=!1,i=0;i<whitelist_regex.length;i++)if(domainpart&&domainpart.match(whitelist_regex[i].trim())){containInWhiteList=!0;break}if(dvallength>2)return!1;if(containInWhiteList)return!1;if(suggestion){var emailAddress="<a onclick = \"Form.checkEmailDomain.replaceDomain('"+suggestion.full.trim()+"')\"><span>"+suggestion.address+'</span>@<span class="za-email-domain">'+suggestion.domain+"</span></a>",message=I18N.get("IAM.DOMAIN.CHECK_MESSAGE",emailAddress);id.siblings(".field-msg").children().is(":visible")&&(Form.Message.hideError(id),message="<span class='za-domain-error'>"+I18N.get("IAM.EMAIL.DOMAIN.SUGGESTION.FULL",emailAddress)+"</span>"),$(".za-email-suggestion").html(message)}else $(".za-email-suggestion").remove()},replaceDomain:function(email){$('input[name="email"]').val(email),$(".za-email-suggestion").remove()},getSuggestedDomain:function(id,domains){var suggestedValue="";return $(id).mailcheck({domains:domains,suggested:function(element,suggestion){-1!==suggestion.domain.indexOf(".")&&(suggestedValue=suggestion)},empty:function(){}}),suggestedValue}};var Validator={PATTERN:{STARTS_ALPHA_NUMERIC:new XRegExp("^[\\p{L}\\p{N}\\p{M}]"),ENDS_ALPHA_NUMERIC:new XRegExp("[\\p{L}\\p{N}\\p{M}]$"),CONTINUE_DOT:/([._][._])+/,VALID_CHARS:new XRegExp("^[\\p{L}\\p{N}\\p{M}\\_\\.]+$"),ONLY_NUMERIC:/^[0-9]+$/,EMAIL:new XRegExp("^[\\p{L}\\p{M}\\p{N}\\_]([\\p{L}\\p{M}\\p{N}\\_\\+\\-\\.\\'\\&\\!\\*]*)@(?=.{4,256}$)(([\\p{L}\\p{M}\\p{N}]+)(([\\-\\_]*[\\p{L}\\p{M}\\p{N}])*)[\\.])+[\\p{L}\\p{M}]{2,22}$","i"),USERNAME:new XRegExp("^[\\p{L}\\p{M}\\p{N}\\-\\_\\.\\']+$","i"),NAME:new XRegExp("^[\\p{L}\\p{M}\\p{N}\\-\\_\\.\\' ]+$","i"),SPECIAL_CHARS:/[^A-Za-z\d]/,UPPER_CHAR:/[A-Z]/,LOWER_CHAR:/[a-z]/,CONTAIN_NUMBER:/[0-9]/,MOBILE:/^([0-9]{5,14})$/,OTP:/^([0-9]{7})$/},isValid:function(value){return value&&value.trim().length>0},isEmail:function(value){return value&&XRegExp.test(value.trim(),Validator.PATTERN.EMAIL)},isUserName:function(value){return value&&XRegExp.test(value.trim(),Validator.PATTERN.USERNAME)},isMobile:function(value){return 0!=value.trim().length&&Validator.PATTERN.MOBILE.test(value)},isSpecialCharecterContains:function(value){return 0!=value.trim().length&&Validator.PATTERN.SPECIAL_CHARS.test(value)},isMixedCase:function(value){return 0!=value.trim().length&&Validator.PATTERN.LOWER_CHAR.test(value)&&Validator.PATTERN.UPPER_CHAR.test(value)},isNumberContains:function(value){return 0!=value.trim().length&&Validator.PATTERN.CONTAIN_NUMBER.test(value)},isValidOTP:function(value){return 0!=value.trim().length&&Validator.PATTERN.OTP.test(value)},isName:function(value){return value&&XRegExp.test(value.trim(),Validator.PATTERN.NAME)},setJQueryMessage:function($validator,msg,element){return msg?($validator.settings.messages[element.name]=I18N.get(msg),!1):!0}};Validator.newPortal=function(value,element){value=value.trim();var msg=null;return value.length<1?msg="IAM.ERROR.PORTAL.MANDATORY":value.length<6||value.length>30?msg="IAM.ERROR.PORTAL.NOOF.CHARS":XRegExp.test(value,Validator.PATTERN.STARTS_ALPHA_NUMERIC)?XRegExp.test(value,Validator.PATTERN.VALID_CHARS)?Validator.PATTERN.CONTINUE_DOT.test(value)?msg="IAM.ERROR.PORTAL.CONSECUTIVE.DOTS":XRegExp.test(value,Validator.PATTERN.ENDS_ALPHA_NUMERIC)?Validator.PATTERN.ONLY_NUMERIC.test(value)&&(msg="IAM.ERROR.PORTAL.ONLYNUMBERS"):msg="IAM.ERROR.PORTAL.ENDSWITH":msg="IAM.ERROR.PORTAL.NAME.RESTRICTION":msg="IAM.ERROR.PORTAL.STARTSWITH",this.settings?Validator.setJQueryMessage(this,msg,element):I18N.get(msg)},Validator.newUsername=function(value,element){value=value.trim();var msg=null;return value.length<1?msg="IAM.ERROR.USERNAME.MANDATORY":value.length<6||value.length>30?msg="IAM.ERROR.USERNAME.NOOF.CHARS":XRegExp.test(value,Validator.PATTERN.STARTS_ALPHA_NUMERIC)?XRegExp.test(value,Validator.PATTERN.VALID_CHARS)?Validator.PATTERN.CONTINUE_DOT.test(value)?msg="IAM.ERROR.USERNAME.CONSECUTIVE.DOTS":XRegExp.test(value,Validator.PATTERN.ENDS_ALPHA_NUMERIC)?Validator.PATTERN.ONLY_NUMERIC.test(value)&&(msg="IAM.ERROR.USERNAME.ATLEAST.ONEALPHA"):msg="IAM.ERROR.USERNAME.ENDSWITH":msg="IAM.ERROR.USERNAME.ONLY.ALPANUMERIC":msg="IAM.ERROR.USERNAME.STARTSWITH",this.settings?Validator.setJQueryMessage(this,msg,element):I18N.get(msg)},Validator.newName=function(value,element){value=value.trim();var msg=null;return value.length<1?msg="IAM.ERROR.USERNAME.MANDATORY":value.length<6||value.length>30?msg="IAM.ERROR.USERNAME.NOOF.CHARS":XRegExp.test(value,Validator.PATTERN.STARTS_ALPHA_NUMERIC)?XRegExp.test(value,Validator.PATTERN.VALID_CHARS)?Validator.PATTERN.CONTINUE_DOT.test(value)?msg="IAM.ERROR.USERNAME.CONSECUTIVE.DOTS":XRegExp.test(value,Validator.PATTERN.ENDS_ALPHA_NUMERIC)?Validator.PATTERN.ONLY_NUMERIC.test(value)&&(msg="IAM.ERROR.USERNAME.ATLEAST.ONEALPHA"):msg="IAM.ERROR.USERNAME.ENDSWITH":msg="IAM.ERROR.USERNAME.ONLY.ALPANUMERIC":msg="IAM.ERROR.USERNAME.STARTSWITH",this.settings?Validator.setJQueryMessage(this,msg,element):I18N.get(msg)},Validator.newPassword=function(value,element){var msg=null,f=element&&element.form||this.currentForm;if(value=value.trim(),"undefined"!=typeof PasswordPolicyInfo){for(var passInfoCode=null,i=0;i<PasswordPolicyInfo.length;i++){var passInfo=PasswordPolicyInfo[i];if(passInfoCode=passInfo.ErrorCode,"PP101"===passInfoCode&&value.length<passInfo.minLength){msg=passInfo.message;break}if("PP104"===passInfoCode){var id=f.email&&f.email.value.trim().toLocaleLowerCase();id=id?id:f.mobile&&f.mobile.value.trim().toLocaleLowerCase();var passVal=value.toLocaleLowerCase();if(id&&(-1!==id.indexOf(passVal)||-1!==passVal.indexOf(id))){msg=passInfo.message;break}}else{if("PP106"===passInfoCode&&value.length>passInfo.maxLength){msg=passInfo.message;break}if("PP107"===passInfoCode&&passInfo.minSplChar>=1&&value.length<=passInfo.ignoreLength&&!Validator.isSpecialCharecterContains(value)){msg=passInfo.message;break}if("PP108"===passInfoCode&&passInfo.minNUmChar>=1&&value.length<=passInfo.ignoreLength&&!Validator.isNumberContains(value)){msg=passInfo.message;break}if("PP109"===passInfoCode&&passInfo.isEnabled===!0&&value.length<=passInfo.ignoreLength&&!Validator.isMixedCase(value)){msg=passInfo.message;break}}}if(null!==msg&&"PP104"!==passInfoCode)for(var i=0;i<PasswordPolicyInfo.length;i++){var passInfo=PasswordPolicyInfo[i];if("PP100"==passInfo.ErrorCode){msg=passInfo.message;break}}}else value.length<1?msg="IAM.ERROR.ENTER.LOGINPASS":value.length<userPasswordMinLen?msg="IAM.ERROR.PASS.LEN":value.length>userPasswordMaxLen?msg="IAM.ERROR.PASSWORD.MAXLEN":f&&f.username&&value.trim()==f.username.value.trim()&&(msg="IAM.PASSWORD.POLICY.LOGINNAME");return $("#errormg").is(":visible")&&$(".pwderror").hide(),null!=msg&&0==!$("#password-error").length&&$("#password-error").remove(),this.settings?Validator.setJQueryMessage(this,msg,element):I18N.get(msg)},Validator.newTermsOfService=function(value,element){var msg=null;return element.checked||(msg="IAM.ERROR.TERMS.POLICY"),this.settings?Validator.setJQueryMessage(this,msg,element):I18N.get(msg)},Validator.addDefaultMethods=function(){$.validator&&($.validator.addMethod("portalname",Validator.newPortal),$.validator.addMethod("username",Validator.newUsername),$.validator.addMethod("password",Validator.newPassword),$.validator.addMethod("tos",Validator.newTermsOfService),$.validator.addMethod("email",function(value,element){return Validator.isEmail(value)?!0:Validator.setJQueryMessage(this,"IAM.ERROR.EMAIL.INVALID",element)}),$.validator.addMethod("emailormobile",function(value,element){return Validator.isMobile(value)||Validator.isEmail(value)?!0:Validator.setJQueryMessage(this,"IAM.ERROR.EMAIL.OR.MOBILE.INVALID",element)}),$.validator.addMethod("rmobile",function(value,element){return Validator.isMobile(value)?!0:Validator.setJQueryMessage(this,"IAM.MOBILE.ENTER.INVALID.MOBILE",element)}),$.validator.addMethod("mobile",function(value,element){return Validator.isMobile(value)?!0:Validator.setJQueryMessage(this,"IAM.MOBILE.ENTER.INVALID.MOBILE",element)}))},Validator.addDefaultMethods();var formvalidated=!1,_za_serviceurl=void 0,customFieldData=void 0,resendTimer,prevmobileCode;!function($){$.fn.zaSignUp=function(options){var args=null;if(!options||"object"==typeof options){var formOptions=$.extend(!0,{},$.fn.zaSignUp.defaults,options);options&&options.oncomplete&&(formOptions.x_signup.oncomplete=formOptions.oncomplete,formOptions.oncomplete=null),args=[formOptions]}return this.form.apply(this,args||arguments)},$.fn.zaSignUp.SIGNUP_STATE={ERROR:0,ACCOUNT_CREATED:1,UPDATE_SERVICE_FIELDS:2,SIGNUP_COMPLETED:3,OTP_INITIATED:4,BACKTO_SIGNUP:5,OTP_ERROR:6,OTP_LIMIT_REACHED:7},$.fn.zaSignUp.defaults={initError:function(errorCode,msg){"SIGNUP101"==errorCode&&(Form.Message.error(this.element.name,msg),this.element.find(":input").attr("disabled","true"))},oncomplete:function(){$(".signupbtn span").removeClass("loadingtext"),$(".signupbtn").removeClass("changeloadbtn")},handleSignuptracking:function(data){try{$zoho.livedesk.visitor.customaction('{"op":"'+data.operation+'","e":"'+data.email+'","sn":"'+data.servicename+'","cp":'+data.clientportal+',"n":"'+data.name+'","zuid":"'+data.zuid+'"}')}catch(exp){}},getRedirectSignUpParams:function(){return null},getConfirmationTemplate:function(){$(".inner-container").css("display","none");var sb=new StringBuilder('<section class="za-confirm">');return sb.append('<div class="za-confirm-container">'),sb.append('<div class="zoho_logo"></div>'),sb.append('<div class="za-confirm-title">').append(I18N.get("IAM.REGISTER.ACCOUNT.CONFIRMATION")).append("</div>"),sb.append('<p class="za-confirm-msg">').append(I18N.get("IAM.SIGNUP.CONFIRMATION.VERIFY.EMAIL")).append("</p>"),sb.append('<div class="noteparent">'),sb.append('<p class="za-confirm-note">').append(I18N.get("IAM.SIGNUP.CONFIRMATION.RIGHT.TO.DEACTIVATE.NEW")).append(I18N.get("IAM.SIGNUP.CONFIRMATION.EMAIL.TIP")).append("</p>"),sb.append("</div>"),sb.append('<div class="za-confirm-btn"><input type="button" class="signupbtn" value="').append(I18N.get("IAM.BUTTON.CONTINUE.SIGNIN")).append('">'),sb.append("</div></div></section>"),sb.toString()},handleConfirmation:function(data){if(!data.show_confirmation)return void data.doAction();if(!$(".za-confirm").length){var confirmTpl=this.getConfirmationTemplate().replace("$EMAIL",data.email);$("body").append(confirmTpl),$(".main").hide()}$(".za-confirm").height($(document).height()).show().find("input").focus().click(data.doAction),setTimeout(function(){data.doAction()},5e3)},create:function(){var $f=this.element.attr("autocomplete","off"),options=this.options,signupOptions=options.x_signup,requestParams=Util.parseParameter(location.search);signupOptions.params=signupOptions.params||{};for(var i=0,len=signupOptions.paramsNames.length;len>i;i++){var paramValue,paramName=signupOptions.paramsNames[i];!signupOptions.params[paramName]&&(paramValue=requestParams[paramName])&&(signupOptions.params[paramName]=paramValue)}$f.find("input[name='password'], input[name='repassword'], input[name='captcha']").data("secret","true"),$.each(["captcha","password","email","username","newsletter","emailormobile","mobile","rmobile","otp"],function(i,v){var $container=$f.find(".za-"+v+"-container"),isRequired=signupOptions[v+"_required"]===!0,isClientPortal=signupOptions.client_portal===!0;if((isRequired||"captcha"==v)&&!$container.find("input[name='"+v+"']").length){if("newsletter"===v&&isClientPortal)return;throw alert(I18N.get("IAM.ERROR.GENERAL")),'"'+v+'" field is not present'}toggleField($container,isRequired)}),$(".signupotpcontainer").hide(),signupOptions.allow_signup===!1&&options.initError.call(this,"SIGNUP101",I18N.get("IAM.ERROR.SIGNUP.NOT.ALLOWED")),"undefined"!=typeof loadCountryOptions&&"false"!==loadCountryOptions&&loadCountries(ZACountryCodeDetails);var captchaDigest=signupOptions.captchaDigest;$f.each(function(idx,ele){changeHip(idx,ele,0==idx?captchaDigest:null)}),$(".za-region-container").css("display","none")},url:function(){return ZAConstants.getIAMUrl(uriPrefix+"/webclient/v1/register/initiate")},params:function(){return this.options.x_signup.params.stop_ufields&&"true"===this.options.x_signup.params.stop_ufields||(customFieldData=CrossServiceRequest.toJSON("za_signup",this.element.get(0))),checkAndUpdateServiceUrl(this.options)},crossdomain:!0,csrf:!1,success:signupResponse,error:function(jqXHR){Form.Message.error(this.element.name,I18N.get("IAM.ERROR.GENERAL")),this.options.x_signup.oncomplete&&this.options.x_signup.oncomplete.call(this,$.fn.zaSignUp.SIGNUP_STATE.ERROR,jqXHR)},validator:{rules:{captcha:"required",portalname:{portalname:!0,validateRemote:!0},username:{username:!0,validateRemote:!0},password:"password",tos:"tos",emailormobile:{emailormobile:!0,validateRemote:{params:function(){var signupParams=$(this.currentForm).zaSignUp("options").x_signup.params;return{portal:signupParams.portal,service_language:signupParams.service_language,country_code:$(".za-emailormobile-container").find('select[name="country_code"]').val()}}}},mobile:{mobile:!0,validateRemote:{params:function(){var signupParams=$(this.currentForm).zaSignUp("options").x_signup.params;return{portal:signupParams.portal,service_language:signupParams.service_language,country_code:$(".za-mobile-container").find('select[name="country_code"]').val()}}}},password:{password:!0,validateRemote:{params:function(){var signupParams=$(this.currentForm).zaSignUp("options").x_signup.params;return{portal:signupParams.portal,service_language:signupParams.service_language}}}},rmobile:{rmobile:!0,validateRemote:{params:function(){var signupParams=$(this.currentForm).zaSignUp("options").x_signup.params;return{portal:signupParams.portal,service_language:signupParams.service_language,country_code:$(".za-rmobile-container").find('select[name="country_code"]').val()}}}},email:{email:!0,validateRemote:{params:function(){var signupParams=$(this.currentForm).zaSignUp("options").x_signup.params;return{portal:signupParams.portal,service_language:signupParams.service_language,country_code:$(".za-country_code-container").find('select[name="country_code"]').val()}}}},repassword:"confirmPassword"},messages:{captcha:{required:function(){return I18N.get("IAM.ERROR.WORD.IMAGE")}}},ignore:".ignore-validation"},passwordStrength:".za-password-container input",checkEmail:".za-email-container input",disableSubmit:function(){try{{this.element.find(this.options.submitButton)}(!$btnStatus||"disabled"!==$btnStatus&&"true"!==$btnStatus&&$btnStatus!==!0)&&(formvalidated=!0)}catch(exp){}presignupTracker(),$(".signupbtn span").addClass("loadingtext"),$(".signupbtn").addClass("changeloadbtn"),$(".idpform").is(":visible")&&$(".idpform").hide()},getAdminAccess:function(){$(".inner-container").css("display","none");var sb=new StringBuilder('<div class="access_denied">');return sb.append('<div class="access_denied_sandclock"></div>'),sb.append('<div class="access_denied-heading" style="margin-top:40px;font-size: 24px;display: block;text-align: center; font-weight:600;">').append('<span style="margin-top:40px;">').append(I18N.get("IAM.CLIENT.SIGNUP.ADMIN.TITLE")).append("</span>").append("</div>"),sb.append('<div class="access_denied-decsription" style="font-size: 16px;display: block;text-align: center;margin-top:20px;">').append("<p>").append(I18N.get("IAM.CLIENT.SIGNUP.ADMIN.DOMAIN")).append("</p>").append("</div>"),sb.append('<div class="contact_admin_mail" style="font-size: 16px;display: block;text-align: center;margin-top:20px;">').append("<p>").append(I18N.get("IAM.CLIENT.SIGNUP.ADMIN.CONTACT.MAIL")).append("</p>").append("</div>"),sb.append("</div>"),sb.toString()},handleAdminAccess:function(data){var domain=this.getAdminAccess().replace("$DOMAIN",data.orgName).replace("$DOMAINMAIL",data.ownerMail);$("body").append(domain)}},$.validator.addMethod("confirmPassword",function(value,element){return this.currentForm.password&&value.trim()!=this.currentForm.password.value.trim()?(this.settings.messages[element.name]=I18N.get("IAM.ERROR.WRONG.CONFIRMPASS"),!1):!0}),$.validator.addMethod("validateRemote",function(value,element,param){var validator=this,options=null,formOptions=$(validator.currentForm).zaSignUp("options"),signupOptions=formOptions.x_signup;if(0==element.name.indexOf(CrossServiceRequest.CONSTANTS.CUSTOM_FIELD)){var customFieldData=void 0;signupOptions.params.stop_ufields&&"true"===signupOptions.params.stop_ufields||(customFieldData=CrossServiceRequest.toJSON("za_signup_new",this.currentForm,{validate:element.name})),customFieldData&&(options=CrossServiceRequest.getAjaxOptions(signupOptions.service_name,"vfields"),options.data=$.zaParam({data:JSON.stringify(customFieldData)}))}else{var pdata=param&&Util.valueOf(param.params,validator)||{},validateURL=ZAConstants.getIAMUrl(uriPrefix+"/webclient/v1/register/field/validate");pdata.service_language&&(validateURL=validateURL+"?service_language="+pdata.service_language),options={url:validateURL,type:"POST",contentType:"application/json",headers:{"Z-Authorization":"Zoho-ticket "+temp_token},data:pdata},options.data[element.name]=$(element).val(),options.data.servicename=signupOptions.params&&signupOptions.params.servicename?signupOptions.params.servicename:signupOptions.service_name,signupOptions.params&&signupOptions.params.serviceurl&&(options.data.serviceurl=signupOptions.params.serviceurl);var elemntName=element.name,signupurl=window.location.href;if("email"===elemntName)var json={signupvalidate:{country_code:pdata.country_code,email:$(element).val().trim(),servicename:pdata.servicename,serviceurl:pdata.serviceurl,signupurl:signupurl}};else if("emailormobile"===elemntName)var countryCd="undefined"!=typeof countrycode&&countrycode?countrycode:pdata.country_code,json={signupvalidate:{country_code:countryCd,emailormobile:$(element).val().trim(),servicename:pdata.servicename,serviceurl:pdata.serviceurl,signupurl:signupurl}};else if("password"===elemntName)var json={signupvalidate:{country_code:pdata.country_code,password:$(element).val(),servicename:pdata.servicename,serviceurl:pdata.serviceurl}};else if("rmobile"===elemntName)var countryCd="undefined"!=typeof countrycode&&countrycode?countrycode:pdata.country_code,json={signupvalidate:{country_code:countryCd,rmobile:$(element).val(),servicename:pdata.servicename,serviceurl:pdata.serviceurl}};else if("mobile"===elemntName)var countryCd="undefined"!=typeof countrycode&&countrycode?countrycode:pdata.country_code,json={signupvalidate:{country_code:countryCd,mobile:$(element).val(),servicename:pdata.servicename,serviceurl:pdata.serviceurl,signupurl:signupurl}};else if("username"===elemntName)var json={signupvalidate:{country_code:pdata.country_code,username:$(element).val().trim(),servicename:pdata.servicename,serviceurl:pdata.serviceurl}};options.data=JSON.stringify(json)}if(options){if(validator.optional(element))return"dependency-mismatch";var previous=validator.previousValue(element,"remote");return validator.settings.messages[element.name]||(validator.settings.messages[element.name]={}),previous.originalMessage=this.settings.messages[element.name].remote,validator.settings.messages[element.name].remote=previous.message,param="string"==typeof param&&{url:param}||param,validator.pending[element.name]?"pending":previous.old===value?previous.valid:(previous.old=value,validator.startRequest(element),CrossServiceRequest.send($.extend(!0,{url:param,mode:"abort",port:"validate"+element.name,dataType:"json",success:function(json){validator.settings.messages[element.name].validateRemote=previous.originalMessage,"email"===element.name?$(".za-orguser-container").hide():"";var valid=null==json.errors,vfieldvalid=null==json.error;if(valid&&vfieldvalid){var submitted=validator.formSubmitted;validator.prepareElement(element),validator.formSubmitted=submitted,validator.successList.push(element),validator.showErrors()}else{if($(".loader, .blur").hide(),vfieldvalid)if(json.errors[0]&&"EMAIL105"===json.errors[0].code)$(".orguser_con").html(json.localized_message),$(".za-orguser-container").show(),window.PasswordPolicyInfo=json.org_data.pwd_policy,$("#emailfield-error").remove(),$("#emailfield").parent().removeClass("field-error"),valid=!0;else{json.errors[0]&&"EMAIL507"===json.errors[0].code&&changeBlockedDomain(json.location),$(".za-orguser-container").hide();var fieldname=element.name,errors={};errors[fieldname]=json.localized_message,validator.settings.messages[element.name].validateRemote=previous.message=json.localized_message,validator.showErrors(errors)}else{var errors=I18N.get(json.error);validator.settings.messages[element.name].validateRemote=previous.message=errors[element.name],validator.showErrors(errors)}"x_"==element.name.slice(0,2)&&customFieldAudit(element.name,errors[element.name])}previous.valid=valid,validator.stopRequest(element,valid),param&&$.isFunction(param.success)&&param.success.call(validator,json,element)}},options),formOptions.usePostMessage),"pending")}return!0})}(jQuery);var FederatedSignIn={GO:function(idpProvider){var zaOptionsParam=$.fn.zaSignUp.defaults,serviceName=zaOptionsParam.x_signup.service_name,serviceUrl=zaOptionsParam.x_signup.service_url,csrfParam=zaOptionsParam.x_signup.csrfParamName,csrfValue=Cookie.get(ZAConstants.csrfCookie),signupParams=zaOptionsParam.x_signup.params,accountsUrl=ZAConstants.getAccountsServer();if(null!=idpProvider){idpProvider="microsoft"===idpProvider?"azure":idpProvider;var oldForm=document.getElementById(idpProvider+"form");oldForm&&document.documentElement.removeChild(oldForm);var form=document.createElement("form"),action="undefined"!=typeof zaOptionsParam.x_signup.client_portal&&zaOptionsParam.x_signup.client_portal?ZAConstants.getIAMUrl(uriPrefix+"/clientidprequest?provider="+idpProvider.toUpperCase()):encodeURI(accountsUrl+"/accounts/fsr?provider="+idpProvider.toUpperCase()),hiddenField=document.createElement("input");hiddenField.setAttribute("type","hidden"),hiddenField.setAttribute("name",csrfParam),hiddenField.setAttribute("value",csrfValue),form.appendChild(hiddenField),form.setAttribute("id",idpProvider+"form"),form.setAttribute("method","POST"),form.setAttribute("action",action),form.setAttribute("target","_parent");var openIDProviders={commonparams:{servicename:serviceName,serviceurl:serviceUrl,service_language:signupParams.service_language}};if(idpProvider){var params=openIDProviders.commonparams;for(var key in params)if(params[key]){var hiddenField=document.createElement("input");hiddenField.setAttribute("type","hidden"),hiddenField.setAttribute("name",key),hiddenField.setAttribute("value",params[key]),form.appendChild(hiddenField)}document.documentElement.appendChild(form),form.submit()}}},crete:function(url){var idp_form=document.createElement("form");idp_form.name="idpform",idp_form.method="post",idp_form.action=url,idp_form.className="idpform",$("body").append(idp_form)}};$("#newsletter").focusin(function(){$("#signup-newsletter").addClass("focus"),$(document).on("keydown.tabindex",function(e){return 9===e.keycode?($("#submitBtn").focus(),e.preventDefault(),!1):void 0})}).focusout(function(){$("#signup-newsletter").removeClass("focus"),$(document).off("keydown.tabindex")});var otpThreshold=3;!function($){if($.fn.select2){var Defaults=$.fn.select2.amd.require("select2/defaults");$.extend(Defaults.defaults,{searchInputPlaceholder:""});var SearchDropdown=$.fn.select2.amd.require("select2/dropdown/search"),_renderSearchDropdown=SearchDropdown.prototype.render;SearchDropdown.prototype.render=function(){var $rendered=_renderSearchDropdown.apply(this,Array.prototype.slice.apply(arguments));return this.$search.attr("placeholder",this.options.get("searchInputPlaceholder")),$rendered}}}(window.jQuery);var zdtdomain,zdtRetryEnable=!0;$(document).ready(function(){_checkZDToken(),setInterval(function(){1==zdtRetryEnable&&_checkZDToken()},6e4)});